!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){o(1),o(3),o(4),o(5),o(6),o(7),e.exports=o(8)},function(e,t,o){jQuery(function(e){Promise.resolve().then(function(){return o(2)}).then(function(t){var o=t.PluginHelper;o.GWPAdmin(),o.SelectWoo(),o.ColorPicker(),o.FieldDependency(),o.ImageUploader(),o.AttributeDialog(),e(document.body).on("woocommerce_added_attribute",function(){o.SelectWoo(),o.ColorPicker(),o.ImageUploader(),o.AttributeDialog()}),e(document.body).on("wvs_pro_product_swatches_variation_loaded",function(){o.ColorPicker(),o.ImageUploader()})})})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"PluginHelper",function(){return r});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},n=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}();var a,r=(a=jQuery,function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"GWPAdmin",value:function(){a().gwp_live_feed&&a().gwp_live_feed(),a().gwp_deactivate_popup&&a().gwp_deactivate_popup("woo-variation-swatches")}},{key:"ImageUploader",value:function(){a(document).off("click","button.wvs_upload_image_button"),a(document).on("click","button.wvs_upload_image_button",this.AddImage),a(document).on("click","button.wvs_remove_image_button",this.RemoveImage)}},{key:"AddImage",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var o=void 0;if("undefined"!=typeof wp&&wp.media&&wp.media.editor){if(o)return void o.open();(o=wp.media.frames.select_image=wp.media({title:WVSPluginObject.media_title,button:{text:WVSPluginObject.button_title},multiple:!1})).on("select",function(){var e=o.state().get("selection").first().toJSON();if(""!==a.trim(e.id)){var i=void 0===e.sizes.thumbnail?e.sizes.full.url:e.sizes.thumbnail.url;a(t).prev().val(e.id),a(t).closest(".meta-image-field-wrapper").find("img").attr("src",i),a(t).next().show()}}),o.on("open",function(){var e=o.state().get("selection"),i=a(t).prev().val(),n=wp.media.attachment(i);n.fetch(),e.add(n?[n]:[])}),o.open()}}},{key:"RemoveImage",value:function(e){e.preventDefault(),e.stopPropagation();var t=a(this).closest(".meta-image-field-wrapper").find("img").data("placeholder");return a(this).closest(".meta-image-field-wrapper").find("img").attr("src",t),a(this).prev().prev().val(""),a(this).hide(),!1}},{key:"SelectWoo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"select.wvs-selectwoo";a().selectWoo&&a(e).selectWoo({allowClear:!0})}},{key:"ColorPicker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"input.wvs-color-picker";a().wpColorPicker&&a(e).wpColorPicker()}},{key:"FieldDependency",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-depends]";a().FormFieldDependency&&a(e).FormFieldDependency()}},{key:"savingDialog",value:function(e,t,o){var n={},r="";if(t.find("input, select").each(function(){var e=a(this).attr("name"),t=a(this).val();e&&("tag_name"===e?r=t:n[e]=t,a(this).val(""))}),r){a(".product_attributes").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var l=i({action:"woocommerce_add_new_attribute",taxonomy:o,term:r,security:woocommerce_admin_meta_boxes.add_attribute_nonce},n);a.post(woocommerce_admin_meta_boxes.ajax_url,l,function(t){t.error?window.alert(t.error):t.slug&&(e.find("select.attribute_values").append('<option value="'+t.term_id+'" selected="selected">'+t.name+"</option>"),e.find("select.attribute_values").change()),a(".product_attributes").unblock()})}else a(".product_attributes").unblock()}},{key:"AttributeDialog",value:function(){var e=this;a(".product_attributes").on("click","button.wvs_add_new_attribute",function(t){t.preventDefault();var o=a(this).closest(".woocommerce_attribute"),i=o.data("taxonomy"),n=a(this).data("dialog_title");a(".wvs-attribute-dialog-for-"+i).dialog({title:"",dialogClass:"wp-dialog wvs-attribute-dialog",classes:{"ui-dialog":"wp-dialog wvs-attribute-dialog"},autoOpen:!1,draggable:!0,width:"auto",modal:!0,resizable:!1,closeOnEscape:!0,position:{my:"center",at:"center",of:window},open:function(){a(".ui-widget-overlay").bind("click",function(){a("#attribute-dialog").dialog("close")})},create:function(){}}).dialog("option","title",n).dialog("option","buttons",[{text:WVSPluginObject.dialog_save,click:function(){e.savingDialog(o,a(this),i),a(this).dialog("close").dialog("destroy")}},{text:WVSPluginObject.dialog_cancel,click:function(){a(this).dialog("close").dialog("destroy")}}]).dialog("open")})}}]),e}())},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){}]);