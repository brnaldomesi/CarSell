jQuery(document).ready(function(r){function e(e){var t=new XMLHttpRequest,s="action=updraft_ajaxrestore&updraftplus_ajax_restore=do_ajax_restore&job_id="+e,a=0,o=!0,u=r("#updraftplus_ajax_restore_debug").length;t.open("POST",ajaxurl,!0),t.onprogress=function(e){if(e.currentTarget.status>=200&&e.currentTarget.status<300){if(-1!==e.currentTarget.responseText.indexOf("<html"))return o&&(o=!1,alert("UpdraftPlus "+updraftlion.ajax_restore_invalid_response)),r("#updraftplus_ajax_restore_output").append("UpdraftPlus "+updraftlion.ajax_restore_invalid_response),console.log("UpdraftPlus restore error: HTML detected in response could be a copy of the WordPress front page caused by mod_security"),void console.log(e.currentTarget.responseText);if(a==e.currentTarget.responseText.length)return;var t=e.currentTarget.responseText.substr(a);a=e.currentTarget.responseText.length;for(var s=0,n=0;n<t.length;n++){var p=t.substr(n,7);if("RINFO:{"==p){r("#updraftplus_ajax_restore_output").append(t.substr(0,n));var d=ud_parse_json(t.substr(n),!0);1==u&&console.log(d),s=n+d.json_last_pos-d.json_start_pos+7,n=s}}r("#updraftplus_ajax_restore_output").append(t.substr(s))}else r("#updraftplus_ajax_restore_output").append("UpdraftPlus restore error: "+e.currentTarget.status+" "+e.currentTarget.statusText),console.log("UpdraftPlus restore error: "+e.currentTarget.status+" "+e.currentTarget.statusText),console.log(e.currentTarget)},t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(s)}var t=r("#updraftplus_ajax_restore_job_id").val();e(t)});