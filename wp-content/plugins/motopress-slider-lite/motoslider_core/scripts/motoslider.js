"use strict";function videoLayerDirective(a,b,c,d){return{restrict:"A",link:function(e,f,g){var h=!0,i=[],j=[],k=!1,l=c.defer(),m=l.promise,n=!1,o=!0,p=f.children("video");e.arrVideoPlayersState[e.$id]=p[0],e.layer.typeChanged=e.layer.hasOwnProperty("typeChanged")&&e.layer.typeChanged,e.layer.created=!1;var q=!0;e.getVideoEnterAnimationLayer=function(a){return a.animation},e.getVideoLeaveAnimationLayer=function(a){return a.leaveAnimation},e.pixelerize=function(a){return parseInt(a)+"px"},e.currentTimer&&(p.on("play",function(){e.data.settings.editMode||e.appliedPauses||e.stopPlayingTimer()}),p.on("pause",function(){e.data.settings.editMode||!e.checkAllPlayers()||e.appliedPauses||e.startPlayingTimer()})),e.$watch("layer.controls",function(){e.data.settings.editMode&&p.attr("controls",e.layer.controls)}),e.layer.clArr=[],e.$watch("layer.classes",function(){if(e.data.settings.editMode){e.layer.classes&&e.layer.clArr.push(e.layer.classes),e.layer.clArr.forEach(function(a){f.removeClass(a)}),f.attr("style",""),f.addClass("ms_video_layer"),e.layer.classes&&f.addClass(e.layer.classes),g.$set("positions",e.layer.position),f.css("opacity","1");var a=c.defer();e.setElementPosition(f,e.layer,a),j.push(a.promise)}});var r=function(){if(!k||e.data.settings.editMode){k=!0,p.empty();var a=0;if(angular.forEach(e.layer.sources,function(b){b&&a++}),a){var b="",d=0;for(var f in e.layer.sources)e.layer.sources[f]&&(b+="<source src='"+e.layer.sources[f]+"' type='"+e.getType(e.layer.sources[f])+"'>");p.append(b),p.children("source").each(function(){angular.element(this).one("error",function(){d++,d===a&&(l.resolve(),l=c.defer())})})}else l.resolve(),l=c.defer();p[0].load(),q=!1}};e.pauseVideo=function(){k&&c.when(m).then(function(){p[0].pause()}),e.layer.autoplay&&n&&(o=!1)},e.seekTo=function(a){k&&c.when(m).then(function(){p[0].currentTime!=a&&(p[0].currentTime=a)})},e.data.settings.editMode||e.addLayerAnimation(e.layer,f),p.on("loadedmetadata",function(){l.resolve(),l=c.defer()}),e.isThisSlideCurrent(f)&&q&&i.push(m),e.$watch("layer.sources",function(){e.data.settings.editMode&&(j.push(l.promise),r())},!0);var s,t=e.$watch("layer.width",function(){f.css("width",e.layer.width[e.layout]),t()}),u=e.$watch("layer.height",function(){f.css("height",e.layer.height[e.layout]),u()});e.$watch("layer.poster",function(){e.data.settings.editMode&&(p.attr("poster",e.layer.poster),p.hide(),s=a(function(){p.show(),a.cancel(s)},0))}),e.data.settings.editMode||(e.animEndListener=function(){e.isThisSlideCurrent(f)?e.layer.autoplay&&!n&&(c.when(m).then(function(){o&&(p.attr("autoplay",e.layer.autoplay),p[0].play())}),n=!0):p.attr("autoplay",!1)},angular.forEach(d.leaveEventNamesArr,function(a){f[0].addEventListener(a,e.animEndListener,!1)})),e.manipulate=function(a){var b=!1;a.hasOwnProperty("type")&&!angular.equals(e.layer.type,a.type)&&(e.layer.typeChanged=!0);for(var c in a)b||angular.equals(e.layer[c],a[c])||(b=!0),e.layer[c]=a[c];b?e.$apply():f.parent().trigger("MPSLLayerChange"),e.layer.changed=!0},e["delete"]=function(a){e.data.slides[0].layers.splice(a.$index,1),e.$apply()},e.getSrc=function(a){return angular.isDefined(a)?0!==a.length?b.trustAsResourceUrl(a):"":void 0},e.getType=function(a){if(angular.isDefined(a)){var b,c,d=a.split(".").pop();return d=d.split("?")[0].split("#")[0],b="webm"===d?' codecs="vp8.0, vorbis"':"mp4"===d?' codecs="theora, vorbis"':' codecs="avc1.4D401E, mp4a.40.2"',c=0!==a.length?"video/"+("ogv"===d?"ogg;":d+";"):""}},e.getVideoAutoplay=function(a){return a.autoplay},e.getVideoControls=function(a){return a.controls},e.getVideoLoop=function(a){return a.loop},e.getVideoMuted=function(a){return a.mute},e.percentage=function(a){return parseInt(a)+"%"},e.delayValidation=function(a){return parseInt(a)+"ms"},e.getWidth=function(a){return a.width},e.setVideoAttrs=function(){e.currentVideoAttrs={controls:e.layer.controls,loop:e.layer.loop,poster:e.layer.poster};for(var a in e.currentVideoAttrs)e.currentVideoAttrs[a]&&p.attr(a,e.currentVideoAttrs[a]);p[0].muted=e.layer.mute},f.addClass(e.layer.classes),e.data.settings.editMode?(p[0].pause(),p.attr("controls",e.getVideoControls(e.layer)),p.attr("poster",e.layer.poster),f.css("opacity",1)):e.setVideoAttrs(),e.initStyles(e.layer,f),f.data("mpsl_positions",e.layer.position);var v=c.defer();c.when(m).then(function(){e.calculationOfPosition(e.layer.position,e.layer,f,f.parents("#"+e.getCurrentScope())),v.resolve()}),e.isThisSlideCurrent(f)&&i.push(v.promise),e.$watch("currentIndex",function(){e.isThisSlideCurrent(f)&&(e.data.settings.editMode||e.layer.autoplay&&!n&&e.stopPlayingTimer())}),e.$watch("[data.settings.timer, currentIndex]",function(){e.isThisSlideCurrent(f)&&q&&r(),parseInt(f.parents(".ms_repeater").data("currentIndex"))===parseInt(e.currentIndex)?e.data.settings.editMode||e.layer.applyLeave&&(e.animationDelaySet=!1,e.layer.enter(),e.setVideoAttrs(),e.layer.applyLeave=!1):e.layer.applyLeave=!0,e.data.settings.timer?parseInt(f.parents(".ms_repeater").data("currentIndex"))===parseInt(e.currentIndex)&&(a.cancel(e.layer.layerTimerLeave),e.layer.autoplay&&!n&&e.stopPlayingTimer(),e.applyLAnimation(e,f)):(a.cancel(e.layer.layerTimerLeave),null!==e.layer.leaveDelay&&parseInt(f.parents(".ms_repeater").data("currentIndex"))===parseInt(e.currentIndex)&&(e.data.settings.editMode||(e.layer.layerTimerLeave=a(function(){e.layer.applyLeave=!1,a.cancel(e.layer.layerTimerLeave)},e.layer.leaveDelay))))},!0);var w=c.defer();c.all(i).then(function(){w.resolve(),e.layer.typeChanged||(e.layer.created=!0),f.parent().trigger(e.layer.typeChanged?"MPSLLayerChange":"MPSLLayerCreate")}),e.deferred.push(w.promise),e.data.settings.editMode&&e.$watch("[layer.type, layer.sources, layer.width, layer.height, layer.controls, layer.classes, layer.poster]",function(){h?h=!1:c.all(j).then(function(){f.parent().trigger("MPSLLayerChange"),j=[]})},!0)}}}!function(){function a(){}a.prototype.getSliderManager=function(a){if(a){var b=angular.element(a).children(".ms_wrapper");if(b.length)return b.scope().SliderManager}return null},a.prototype.initSlider=function(b){angular.element(b).data("ms-inited",!0);var c=angular.element(b).children(".motoslider").find("#settings"),d=c.data("scrollInit"),e=c.data("delayInit"),f=angular.isDefined(c.data("edit-mode"))?c.data("edit-mode"):!1,g=function(){if(angular.element(b).data("ms-inited")){var c=angular.element(b).offset().top+angular.element(b).outerHeight(),d=angular.element(window).scrollTop()+angular.element(window).height();d>=c&&(angular.element(window).off("scroll",g),a.bootstrapSlider(b,e),angular.element(b).data("ms-inited",!1))}};d&&!f?(g(),angular.element(window).on("scroll",g)):a.bootstrapSlider(b,e)},a.bootstrapSlider=function(a,c){if(c)var d=setTimeout(function(){b(a),clearTimeout(d)},c);else b(a)};var b=function(a){if(angular.isUndefined(angular.element(a).scope())){var b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=angular.element(a).children(".motoslider").find("#settings"),d=angular.isDefined(c.data("edit-mode"))?c.data("edit-mode"):!1,e=angular.isDefined(c.data("visible-from"))&&""!==c.data("visible-from")?c.data("visible-from"):null,f=angular.isDefined(c.data("visible-till"))&&""!==c.data("visible-till")?c.data("visible-till"):null;d||null===e&&null===f||null===e&&f>=b||null===f&&b>=e||b>=e&&f>=b?angular.bootstrap(a,["motosliderApp"]):angular.element(a).addClass("motoslider-hide")}};window.MPSLManager=new a}(),angular.module("templates-main",["../app/views/template.html"]),angular.module("../app/views/template.html",[]).run(["$templateCache",function(a){a.put("../app/views/template.html",'<div data-scope=\'{{ id }}\' ms-slider  id="{{ $id }}" ng-cloak\n     class="ms_wrapper" ng-class="[\'ms_to_right\', \'turnApply\', \'applySlides\', data.settings.customClass]"\n     data-ng-init="initSlider()" ms-swipe>\n        <div ms-slide-repeater ng-repeat="slide in data.slides track by $index" ng-show="isCurrentIndex($index)"\n             data-current-index="{{$index}}" class="ms_slide ms_repeater ms_optimize" id="{{slide.general.id}}"\n             ng-class="[isCurrentIndexFirst($index) && \'ms_current_slide ms_show\', isCurrentIndexFirst($index) && data.defaults.animatedClass, slide.general.classes]">\n            <a ng-if="slide.general.link.length" href="{{slide.general.link}}"\n               class="ms_slide_link {{slide.general.link_class}}" id="{{slide.general.link_id}}"\n               rel="{{slide.general.link_rel}}" target="{{slide.general.link_target}}"\n               title="{{slide.general.link_title}}"></a>\n\n            <div class="ms_slide_wrapper" ms-slide>\n\n                <div class="ms_color" ng-if="isSlideBgType(\'color\')" ms-slide-color ng-style="getStyles()"></div>\n\n                <div class="ms_gradient" ng-if="isSlideBgType(\'gradient\')" ms-slide-gradient\n                     ng-style="getStyles()"></div>\n\n                <div class="ms_image" ng-if="isSlideBgType(\'image\')" ms-slide-image ng-style="getStyles()"></div>\n\n                <div class="ms_video_background" ng-if="isSlideBgType(\'video\') && !detectMobile" ms-slide-video\n                     ng-style="getStyles()"></div>\n                <!--            <div class="ms_video_background" ng-if="isSlideBgType(\'video\')">\n                                <video ms-slide-video ng-if="slide.backgrounds.video.showVideo" ng-style="getStyles()" preload>\n                                    <source ng-repeat="s in slide.backgrounds.video.sources" ng-src="{{ getSrc(s)}}" type="{{ getType(s)}}" />\n                                </video>\n                            </div>-->\n\n                <!--<iframe class="ms_youtube" ms-slide-youtube ng-style="getStyles()" frameborder="0" allowscriptaccess="always"></iframe>-->\n\n                <!--<div class="ms_parallax_wrapper" ng-if="isSlideParallax(slide)" >-->\n                <!--<div ms-slide-parallax class="ms_parallax"  ng-if="isSlideParallax(slide)" data-jkit="[parallax:strength=1;axis=both;detect=mousemove;scope=local;]"  ng-style="getStyles()">-->\n                <!--<div  data-ng-repeat="p in slide.parallaxSettings.parallaxLayers"  ng-bind-html="p.content | parallaxValidate" class="ms_parallax" data-ng-class="{ {{p.class}} : true }" ms-size="{{p.size}}" ms-resize-parallax-element ></div>-->\n                <!--</div>-->\n                <!--</div>-->\n\n            </div>\n\n\n            <div class="ms_layers_wrapper">\n\n            <div class="layers" ng-repeat="(layerKey, layer) in slide.layers  track by $id(layer)"\n                 ng-style="{\'z-index\' : \'{{layerKey + 100}}\'}" ng-show="isHideWidth(layer)">\n                <!--<div class="layers" ng-repeat="layer in slide.layers" >-->\n                <a ng-if="isLayerType(\'image\') && (layer.link || data.settings.editMode)"\n                   class="ms_layer ms_image_layer"\n                    ms-image-layer ms-layer>\n                    <img/>\n                </a>\n                <img ng-if="isLayerType(\'image\') && !layer.link && !data.settings.editMode"\n                     class="ms_layer ms_image_layer"\n                      ms-image-layer ms-layer/>\n\n                <a ng-if="isLayerType(\'button\')" class="ms_layer ms_button_layer" ng-mouseover="hoverIn()" ng-mouseleave="hoverOut()" ms-button-layer\n                   ms-layer></a>\n\n                <div ng-if="isLayerType(\'video\') && disableMobileCheck(layer.disableMobile)" ms-video-layer ms-layer\n                     ng-style="getStyles()" class="ms_layer ms_video_layer" >\n                    <video preload="true">\n                    </video>\n                </div>\n                <div ng-if="isLayerType(\'youtube\') && disableMobileCheck(layer.disableMobile)" ms-youtube-layer ms-layer\n                     class="ms_layer ms_youtube_layer"  ng-style="getStyles()">\n                    <iframe id="{{ $id }}"></iframe>\n                    <div ng-if="layer.preview_image.length" class="ms_youtube_layer_preview_image"\n                         ng-style="{\'background-image\':\'url(\\\'\' + layer.preview_image + \'\\\')\'}">\n                        <div class="ms_youtube_layer_preview_button" ng-click="clickPreviewButton()"></div>\n                    </div>\n                </div>\n                <div ng-if="isLayerType(\'vimeo\') && disableMobileCheck(layer.disableMobile)" ms-vimeo-layer ms-layer\n                     ng-style="getStyles()" class="ms_layer ms_vimeo_layer" >\n                    <iframe></iframe>\n                    <div ng-if="layer.preview_image.length" class="ms_vimeo_layer_preview_image"\n                         ng-style="{\'background-image\':\'url(\\\'\' + layer.preview_image + \'\\\')\'}">\n                        <div class="ms_vimeo_layer_preview_button" ng-click="clickPreviewButton()"></div>\n                    </div>\n                </div>\n                <div ng-if="isLayerType(\'html\')" class="ms_layer ms_html_layer" data-ng-bind-html="trustedHtml" ms-html-layer ms-layer></div>\n                <!--<div ng-if="isLayerType(\'html\')" class="ms_layer ms_html_layer" data-ng-bind-html="layer.content" ng-mouseover="hoverIn()" ng-mouseleave="hoverOut()" ms-html-layer ms-layer></div>-->\n            </div>\n\n            </div>\n        </div>\n\n        <div class="ms_counter mpsl-controls-show-hide" ng-show="isCounter()  && sliderMouseEnter">\n            <span ms-counter></span>\n        </div>\n        <div class="ms_pagination mpsl-controls-show-hide ms_control_show"\n             ng-show="showPagination() && sliderMouseEnter">\n            <div class="ms_bullet_wrapper">\n                <a ng-repeat="slide in data.slides" href="javascript:void(0)" class="ms_bullet "\n                   ng-class="{ ms_active : isCurrentIndex($index) }" ng-click="changeSlideManualy($index)"\n                   index="{{ $index}}" pagination-control>\n                    <div ng-class="{ms_thumbnail : data.settings.thumbnails}">\n                        <div></div>\n                    </div>\n                </a>\n            </div>\n        </div>\n        <div class="ms_arrows">\n            <a href="javascript:void(0)" class="ms_prev mpsl-controls-show-hide"\n               ng-show="data.settings.arrowsShow && sliderMouseEnter" navigation-control="prev"></a>\n            <a href="javascript:void(0)" class="ms_next mpsl-controls-show-hide"\n               ng-show="data.settings.arrowsShow && sliderMouseEnter" navigation-control="next"></a>\n            <a href="javascript:void(0)" class="ms_start_pause mpsl-controls-show-hide"\n               ng-show="!data.settings.hoverTimer && data.settings.slideshowPPBShow && disableMobileCheck(true) && sliderMouseEnter"\n               ms-start-pause></a>\n            <!-- <div id="ms_timer_container"></div> -->\n            <div class="ms_banner_timer" ng-show="::data.settings.slideshowTimerShow">\n                <div class="ms_banner_inner"></div>\n            </div>\n        </div>\n        <div class="ms_preload_wrapper ms_active"></div>\n</div>\n\n')}]),function(){angular.module("motosliderApp",["ngAnimate","ngTouch","templates-main"]).config(["$compileProvider",function(a){a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|javascript|tel):/)}]),angular.element(document).ready(function(){angular.element(".motoslider_wrapper").each(function(){MPSLManager.initSlider(this)})})}(),function(){function a(){var a=!1,b=navigator.userAgent||navigator.vendor||window.opera;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0),a}function b(){return function(a){return a.length?JSON.parse(a.replace(/'/g,'"')):void 0}}function c(a,b,c,d){this.parseUnits=function(a){return a.match(/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/)},this.explode=function(b){for(var c={},d=0;d<=a.length-1;d++)c[a[d]]=b.css(a[d]).toString();return c},this.set=function(a,d,e,f,g){for(var h in a)if(a.hasOwnProperty(h))if(f?!0:a[h]){var i=this.parseUnits(a[h]);if(i){var j=-1===b.indexOf(h)?e:1;!i[2]&&c.hasOwnProperty(h)&&(i[2]=c[h]);var k=i[2]?i[1]*j+i[2]:i[1]*j;k=this.fixValue(h,k),d.css(h,k)}else d.css(h,a[h])}else g&&d.css(h,"")},this.fixValue=function(a,b){return b},this.htmlLayer=function(a,b,c){var g=function(){(c?a.layer.dontChangePosition:0)||a.changePos(a.layer,b),f(b)};if(e(b),c?a.layer.resizable:!0){var h=b.find("*:not(br,hr)"),i=[];h.length&&(a.resetStyles(a.layer,b),angular.forEach(h,function(b){var c=a.changeStyles(a.layer,angular.element(b),!0,!0);c!==!0&&i.push()}));var j=function(){var c=a.changeStyles(a.layer,b,!1,!0);c===!0?g():c.then(g)};i.length?d.all(i).then(j):j()}else g()},this.layer=function(a,b,c){var d=function(){(c?a.layer.dontChangePosition:0)||a.changePos(a.layer,b),f(b)};if(e(b),c?a.layer.resizable:!0){var g=a.changeStyles(a.layer,b,!1,!0);g===!0?d():g.then(d)}else d()}}function d(a,b){this.get=function(a){return a="undefined"==typeof a?"":a,{desktop:a,notebook:a,tablet:a,mobile:a}},this.getStyles=function(){for(var c={},d=0;d<a.length;d++){for(var e={},f=0;f<b.length;f++)e[b[f]]="";c[a[d]]=e}return c}}angular.module("motosliderApp").factory("detectMobileDevice",a).factory("bgImageSettings",function(){return{defaultFit:"cover",defaultPosition:"center top",defaultRepeat:"no-repeat",defaultFitPercentage:{x:100,y:100},defaultPositionPercentage:{x:0,y:0}}}).constant("listStyles",["padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-left-width","border-right-width","border-bottom-width","margin-top","margin-left","margin-right","margin-bottom","letter-spacing","font-size","line-height","text-align"]).constant("listStylesStatic",[]).constant("listLayouts",["desktop","notebook","tablet","mobile"]).constant("listFontStyles",["font-size","line-height","text-align"]).constant("listStylesUnit",{"line-height":"px"}).constant("listLayer",["width","height","whiteSpace"]).constant("layout",{desktop:{width:1240,height:868},notebook:{width:1024,height:768},tablet:{width:778,height:960},mobile:{width:480,height:720}}).factory("defaultSettingsSlide",function(){return{"class":"",id:"",link:"",link_target:"_blank",link_id:"",link_class:"",link_rel:"",link_title:""}}).factory("defaultSettingsVideoBG",function(){return{autoplay:!0,mute:!1,loop:!0,controls:!1,fillmode:"fill",cover:!1,cover_type:""}}).factory("defaultSettingsVideo",function(){return{autoplay:!1,mute:!1,loop:!1,controls:!0,poster:""}}).factory("defaultSettingsGradient",function(){return{position:"45deg",colorInitial:"#ffffff",colorFinal:"#ffffff"}}).factory("defaultLeaveAnimationLayers",function(){return{animation:"bounceOut"}}).factory("toJson",b).service("styleService",c).service("newLayoutService",d).constant("defaults",{sliderSettings:{customClass:"",arrowsShow:!0,thumbnailsShow:!0,slideshowTimerShow:!0,slideshowPPBShow:!0,controlsHideOnLeave:!1,visibleFrom:null,visibleTill:null},allWidth:window.innerWidth,height:800,heightYoutube:250,widthYoutube:400,heightVimeo:250,widthVimeo:400,slideAnimation:"bounceIn",timer:!1,timerDelay:5e3,timerReverse:!1,counter:!1,fullWindowResize:!1,fullWindowHeight:!1,fullHeightOffset:0,fullSizeGrid:!1,showThumbnails:!1,slideEnterAnimation:"msSlide",slideLeaveAnimation:"msSlide",slideDuration:1e3,slideEasing:"linear",layerDelay:500,layerAnimation:"fadeIn",bgColorSlide:"#c3c3c3",layerWidth:350,layerHeight:250,settingsYoutubeSlide:{controls:!1},hoverTimer:!1,startSlide:0,slideDelay:1500,leaveEventNamesArr:["webkitAnimationEnd","animationend","MSAnimationEnd","oanimationend"],info:"undefined"==typeof MPSLCore?{path:"",version:"2.1.0"}:MPSLCore,animatedClass:"mpsl-animated",animationClassPrefix:"mpsl-",layerShowClass:"mpsl-layer-show",layerHideClass:"mpsl-layer-hide",videoBackground:"images/default-video.png",magicRedrawDelay:550,bannerDelay:1300,swipe:!0,animationDuration:1e3,animationLeaveDuration:1e3,animationTimingFunction:"mpsl-linear",animationLeaveTimingFunction:"mpsl-linear",swipeTimeLimit:700,swipeTransitionDuration:700,swipeWidthLimit:4,swipeTime:300,scrollInit:!1,delayInit:0,whiteSpace:"normal",whiteSpaceVariations:["normal","nowrap"],whiteSpacePrefix:"mpsl-white-space-",resizable:!0,dontChangePosition:!1,hideWidth:!1});var e=function(a){a.addClass("ms_block_transition")},f=function(a){a.removeClass("ms_block_transition")};c.$inject=["listStyles","listStylesStatic","listStylesUnit","$q"],d.$inject=["listLayouts","listFontStyles"]}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k){var l=a.children(".motoslider"),m=l.children("#settings"),n=l.children("#slides").find(".slide"),o=[],p=m.data(),q=function(a,b){b=b||!1;var c=function(a,b){return a?b?parseInt(a):a.toString():a};return{desktop:c(a[0],b),notebook:c(a[1],b),tablet:c(a[2],b),mobile:c(a[3],b)}},r=function(a,b){return"object"==typeof a&&angular.forEach(a,function(c,d){"undefined"==typeof c&&(a[d]=b)}),a},s=function(a,b){if("undefined"==typeof angular.element(a).data(b))return!1;var c=angular.element(a).data(b).toString().split(";"),d=Object.keys(j).length;if(c.length<d)for(var e=d-c.length,f=c.length-1;e--;)c.push(c[f]);return c},t=angular.isDefined(p.editMode)?p.editMode:!1;n.each(function(a,k){var l=angular.element(k),m=l.find(".slide_bg"),n=l.find(".layers");if(0!==n.length){var u=n.find(".layer"),v=[];u.each(function(a,c){var e=angular.element(c).data("type"),f=s(c,"align-horizontal"),h=s(c,"align-vertical"),k=s(c,"offset-x"),l=s(c,"offset-y"),m=s(c,"width"),n=s(c,"height"),o=s(c,"white-space"),u=s(c,"font-size"),w=s(c,"line-height"),x=s(c,"text-align"),y=function(a){return{"font-size":u[a],"line-height":w[a].toString(),"text-align":x[a].toString()}},z={desktop:y(0),notebook:y(1),tablet:y(2),mobile:y(3)},A={type:e,animation:b.animationClassPrefix+angular.element(c).data("animation")||b.layerAnimation,leaveAnimation:b.animationClassPrefix+angular.element(c).data("leaveAnimation")||g.animation,delay:angular.element(c).data("delay")||b.layerDelay,leaveDelay:angular.element(c).data("leaveDelay")||null,duration:angular.element(c).data("duration")||b.animationDuration,leaveDuration:angular.element(c).data("leaveDuration")||b.animationLeaveDuration,timingFunction:"mpsl-"+angular.element(c).data("timingFunction")||null,leaveTimingFunction:"mpsl-"+angular.element(c).data("leaveTimingFunction")||null,classes:angular.element(c).data("class"),whiteSpace:r(q(o),b.whiteSpace),position:{"align-horizontal":q(f),"align-vertical":q(h),"offset-x":q(k,!0),"offset-y":q(l,!0)},styles:{desktop:y(0),notebook:y(1),tablet:y(2),mobile:y(3)},originalStyles:z,resizable:angular.isDefined(angular.element(c).data("resizable"))?!!angular.element(c).data("resizable"):b.resizable,dontChangePosition:angular.element(c).data("dontChangePosition")||b.dontChangePosition,hideWidth:angular.element(c).data("hideWidth")||b.hideWidth};switch(e){case"image":A.linkClasses=angular.element(c).data("link-class"),A.target=angular.element(c).data("target"),A.link=angular.element(c).data("link").trim()||"",A.width=q(m,!0),A.height=q(n,!0);var B={},C=angular.element(c).find("img");angular.isDefined(C)&&C.length&&(angular.forEach(angular.element(c).find("img")[0].attributes,function(a){B[a.name]=a.value}),delete B.width,delete B.height,t&&(delete B.srcset,delete B.sizes),A.imgAttrs=B),A.src=angular.isDefined(B.src)&&B.src.length?B.src:"";break;case"button":A.title=angular.element(c).text(),A.size=angular.element(c).data("size"),A.target=angular.element(c).data("target"),A.link=angular.element(c).data("link"),A.width=q(m,!0),A.height=q(n,!0);break;case"html":var D=(angular.isDefined(p.layoutDesktopWidth)?p.layoutDesktopWidth:j.desktop.width,p.layoutNotebookWidth||j.notebook.width),E=p.layoutTabletWidth||j.tablet.width,F=p.layoutMobileWidth||j.mobile.width,G=null,H=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;G=F>=H?"mobile":H>F&&E>=H?"tablet":H>E&&D>=H?"notebook":"desktop",A.classes=b.whiteSpacePrefix+A.whiteSpace[G]+" "+A.classes,A.content=angular.element(c).html(),A.width=q(m,!0),A.height=q(n,!0);break;case"video":A.sources={src_webm:angular.element(c).data("src-webm"),src_mp4:angular.element(c).data("src-mp4"),src_ogv:angular.element(c).data("src-ogv")},A.width=q(m,!0),A.height=q(n,!0),A.format=angular.element(c).data("format"),A.poster=angular.element(c).data("poster"),A.autoplay=angular.element(c).data("autoplay")&&!i||d.autoplay,A.loop=angular.element(c).data("loop")||d.loop,A.controls=angular.element(c).data("controls")||d.controls,A.mute=angular.element(c).data("mute")||d.mute,A.fullWidth=angular.element(c).data("fullWidth"),A.disableMobile=angular.element(c).data("disableMobile")||!1;break;case"vimeo":A.src=angular.element(c).data("src"),A.width=q(m,!0),A.height=q(n,!0),A.autoplay=angular.element(c).data("autoplay")&&!i||d.autoplay,A.loop=angular.element(c).data("loop")||d.loop,A.controls=angular.element(c).data("controls")||d.controls,A.mute=angular.element(c).data("mute")||d.mute,A.poster=angular.element(c).data("poster")||d.poster,A.disableMobile=angular.element(c).data("disableMobile")||!1;break;case"youtube":A.src=angular.element(c).data("src"),A.width=q(m,!0),A.height=q(n,!0),A.autoplay=angular.element(c).data("autoplay")&&!i||d.autoplay,A.loop=angular.element(c).data("loop")||d.loop,A.controls=angular.element(c).data("controls")||d.controls,A.mute=angular.element(c).data("mute")||d.mute,A.poster=angular.element(c).data("poster")||d.poster,A.disableMobile=angular.element(c).data("disableMobile")||!1}v.push(A)})}var w,x,y,z={};m.children().each(function(a,c){c=angular.element(c),w={},x={},y=c.data("type"),"image"===y?x={fit:c.data("fit")||h.defaultFit,fitX:c.data("fit-x")||h.defaultFitPercentage.x,fitY:c.data("fit-y")||h.defaultFitPercentage.y,positionX:c.data("position-x")||h.defaultPositionPercentage.x,positionY:c.data("position-y")||h.defaultPositionPercentage.y,position:c.data("position")||h.defaultPosition,repeat:c.data("repeat")||h.defaultRepeat,src:angular.isDefined(c.data("src"))&&0!==c.data("src").length?c.data("src"):null,thumbnail:angular.isDefined(c.data("thumbnail"))&&0!==c.data("thumbnail").length?c.data("thumbnail"):null,title:c.data("title"),format:c.data("format"),controls:c.data("controls")||d.controls}:"video"===y?(angular.isDefined(c.data("src-webm"))||angular.isDefined(c.data("src-mp4"))||angular.isDefined(c.data("src-ogg")))&&(x={showVideo:!0,sources:{webm:c.data("src-webm"),mp4:c.data("src-mp4"),ogg:c.data("src-ogg")},controls:c.data("controls")||d.controls,loop:c.data("loop")||e.loop,mute:angular.isDefined(c.data("mute"))?c.data("mute"):e.mute,fillmode:angular.isDefined(c.data("fillmode"))?c.data("fillmode"):e.fillmode,cover:angular.isDefined(c.data("cover"))?c.data("cover"):e.cover,cover_type:angular.isDefined(c.data("cover-type"))?c.data("cover-type"):e.cover_type,autoplay:angular.isDefined(c.data("autoplay"))&&!i?c.data("autoplay"):e.autoplay}):"color"===y?x={thumbnail:angular.isDefined(c.data("thumbnail"))&&0!==c.data("thumbnail").length?c.data("thumbnail"):null,color:c.data("color")||b.bgColorSlide}:"youtube"===y?x={thumbnail:angular.isDefined(c.data("thumbnail"))&&0!==c.data("thumbnail").length?c.data("thumbnail"):null,src:c.data("src"),controls:c.data("controls")||b.settingsYoutubeSlide.controls}:"gradient"===y?x={thumbnail:angular.isDefined(c.data("thumbnail"))&&0!==c.data("thumbnail").length?c.data("thumbnail"):null,position:c.data("position")||f.position,colorInitial:c.data("colorInitial")||f.colorInitial,colorFinal:c.data("colorFinal")||f.colorFinal}:"color"===y&&(x={thumbnail:angular.isDefined(c.data("thumbnail"))&&0!==c.data("thumbnail").length?c.data("thumbnail"):null,color:c.data("color")}),Object.keys(x).length&&(z[y]=x,z[y].type=y)}),o.push({general:{animation:l.data("animation")||b.slideEnterAnimation,fadeAnimation:l.data("fade-animation")||b.slideLeaveAnimation,duration:l.data("duration")||b.slideDuration,easing:l.data("easing")||b.slideEasing,classes:l.data("class")||c["class"],id:l.data("id")||c.id,link:l.data("link")||c.link,link_target:l.data("link-target")||c.link_target,link_id:l.data("link-id")||c.link_id,link_class:l.data("link-class")||c.link_class,link_rel:l.data("link-rel")||c.link_rel,link_title:l.data("link-title")||c.link_title},backgrounds:z,layers:v})});var u,v;angular.isDefined(p.startSlide)&&(u=b.startSlide,v=p.startSlide,v&&v<=o.length&&(u=0>v?0:v-1));var w=(angular.isDefined(p.fullHeightOffset)&&p.fullHeightOffset>0?p.fullHeightOffset:0,{});w.value=p.fullHeightOffset||0,w.container=p.fullHeightOffsetContainer||b.fullHeightOffset,w.units="px",w.height=0;var x=function(a){w.value.search(a)>0&&(w.units=a,w.height=w.value.slice(0,"px"===a?-2:-1))};w.value&&(x("px"),x("%"));for(var y=p.layout,z={},A=0;3>=A;A++)z[k[A]]=!0;if(y&&(y=y.toString().split(";"),y.length>1))for(var B=0;B<=y.length-1;B++)z[k[B]]=0===B?!0:"true"===y[B];var C={settings:{editMode:t,timer:angular.isDefined(p.timer)?p.timer:b.timer,timerDelay:angular.isDefined(p.timerDelay)?p.timerDelay:b.timerDelay,timerReverse:angular.isDefined(p.timerReverse)?p.timerReverse:b.timerReverse,counter:angular.isDefined(p.counter)?p.counter:b.counter,fullWidth:angular.isDefined(p.fullWindowWidth)?p.fullWindowWidth:b.fullWindowResize,fullHeight:angular.isDefined(p.fullHeight)?p.fullHeight:b.fullWindowHeight,fullSizeGrid:angular.isDefined(p.fullSizeGrid)?p.fullSizeGrid:b.fullSizeGrid,offsetSettings:w,thumbnails:angular.isDefined(p.showThumbnails)?p.showThumbnails:b.showThumbnails,hoverTimer:angular.isDefined(p.hoverTimer)?p.hoverTimer:b.hoverTimer,grid:{desktop:{width:angular.isDefined(p.layoutDesktopWidth)?p.layoutDesktopWidth:j.desktop.width,height:angular.isDefined(p.layoutDesktopHeight)?p.layoutDesktopHeight:j.desktop.height},notebook:{width:angular.isDefined(p.layoutNotebookWidth)?p.layoutNotebookWidth:j.notebook.width,height:angular.isDefined(p.layoutNotebookHeight)?p.layoutNotebookHeight:j.notebook.height},tablet:{width:angular.isDefined(p.layoutTabletWidth)?p.layoutTabletWidth:j.tablet.width,height:angular.isDefined(p.layoutTabletHeight)?p.layoutTabletHeight:j.tablet.height},mobile:{width:angular.isDefined(p.layoutMobileWidth)?p.layoutMobileWidth:j.mobile.width,height:angular.isDefined(p.layoutMobileHeight)?p.layoutMobileHeight:j.mobile.height
}},minHeight:angular.isDefined(p.minHeight)?p.minHeight:"500",isSingleSlide:1===o.length,isSlideshowEnabled:angular.isDefined(p.timer)?p.timer:b.timer,swipe:angular.isDefined(p.swipe)?p.swipe:b.swipe,customClass:angular.isDefined(p.customClass)?p.customClass:b.sliderSettings.customClass,arrowsShow:angular.isDefined(p.arrowsShow)?p.arrowsShow:b.sliderSettings.arrowsShow,thumbnailsShow:angular.isDefined(p.thumbnailsShow)?p.thumbnailsShow:b.sliderSettings.thumbnailsShow,slideshowTimerShow:angular.isDefined(p.slideshowTimerShow)?p.slideshowTimerShow:b.sliderSettings.slideshowTimerShow,slideshowPPBShow:angular.isDefined(p.slideshowPpbShow)?p.slideshowPpbShow:b.sliderSettings.slideshowPPBShow,controlsHideOnLeave:angular.isDefined(p.controlsHideOnLeave)?p.controlsHideOnLeave:b.sliderSettings.controlsHideOnLeave,visibleFrom:angular.isDefined(p.visibleFrom)&&""!==p.visibleFrom?p.visibleFrom:b.sliderSettings.visibleFrom,visibleTill:angular.isDefined(p.visibleTill)&&""!==p.visibleTill?p.visibleTill:b.sliderSettings.visibleTill,scrollInit:angular.isDefined(p.scrollInit)?p.scrollInit:b.scrollInit,delayInit:angular.isDefined(p.delayInit)?p.delayInit:b.delayInit,startSlide:u,availableLayouts:z},defaults:b,slides:o};return C.settings.slideAnimation=C.slides[0].general.animation,C.settings.slideDuration=C.slides[0].general.duration,C.settings.slideEasing=C.slides[0].general.easing,{getData:function(){return C}}}angular.module("motosliderApp").factory("parseData",a),a.$inject=["$rootElement","defaults","defaultSettingsSlide","defaultSettingsVideo","defaultSettingsVideoBG","defaultSettingsGradient","defaultLeaveAnimationLayers","bgImageSettings","detectMobileDevice","layout","listLayouts"]}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){a.data=d.getData(),a.detectMobile=j,a.bannerLine=i.find(".ms_banner_inner"),a.ppButton=i.find(".ms_start_pause"),a.bullets=i.find(".ms_pagination"),a.arrows=i.find(".ms_arrows"),a.slideAnimationDefer=g.defer(),a.slideAnimationEnd=a.slideAnimationDefer.promise,a.slideAnimating=!1,a.isHover=!1,a.isDecrease=!1,a.isIncrease=!1,a.layout=null,a.grid=a.data.settings.grid,a.setLayoutType=function(){var b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=0,d=9999,e="desktop",f="desktop";angular.forEach(a.data.settings.grid,function(g,h){a.data.settings.availableLayouts[h]&&(g.width>=b&&(d=c=g.width,e=h),g.width<=b&&g.width>c&&(c=g.width,f=h))}),n=d>c?f:e,("undefined"==typeof a.prevLayout||n!==a.prevLayout)&&(a.layout=n,a.prevLayout=n)},a.sliderMouseEnter=!a.data.settings.controlsHideOnLeave,a.currentTimer=a.data.settings.timer,a.firstSlideLoaded=!1;var q=g.defer();a.sliderLoaded=q.promise,a.isTouchDevice="ontouchstart"in window||"undefined"!=typeof window.navigator.maxTouchPoints&&navigator.maxTouchPoints>0||"undefined"!=typeof window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0;var r,s=!1;a.$$postDigest(function(){a.data.settings.editMode?a.layout="desktop":a.setLayoutType(),a.sliderWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s||(r=i.find(".ms_layers_wrapper"),u()),r.css("width","100%"),g.all(a.deferred).then(function(){i.find(".ms_wrapper").css("opacity",1),i.find(".ms_preload_wrapper").removeClass("ms_active"),angular.element(i.find(".ms_repeater")[a.data.settings.startSlide]).addClass("ms_active"),a.firstSlideEnded=!1,MPSLManager.swiped=!1,a.bullets.removeClass("ms_control_show"),a.tempTimerForVideo=!0;var b=a.resizeSliderElements();i.trigger("MPSliderBeforeLoad"),g.all(b).then(function(){i.trigger("MPSliderLoad"),q.resolve()}),(a.data.settings.timer||a.data.settings.timer&&a.data.settings.hoverTimer)&&(a.ppButton.addClass("ms_pause"),a.startTimer()),i.addClass("ms_loaded")})});var t=function(){a.data.settings.fullSizeGrid||r.css("max-width",a.data.settings.grid[a.layout].width)},u=function(){t();a.$watch("layout",function(){t()});s=!0};a.getCurrentScope=function(){return a.$id},a.currentIndex=a.data.settings.startSlide,a.testManual=!1,a.reInitTimer=function(){a.currentTimer&&a.data.settings.timer?(a.data.settings.timer=!0,a.ppButton.hasClass("ms_pause")||a.ppButton.addClass("ms_pause")):(a.data.settings.timer=!1,a.ppButton.hasClass("ms_pause")&&a.ppButton.removeClass("ms_pause"))},a.changeSlideManualy=function(b){if(b===a.currentIndex)return!1;a.slideAnimationDefer.reject(),a.slideAnimationDefer=g.defer(),a.slideAnimationEnd=a.slideAnimationDefer.promise,a.reInitTimer(),a.pauseProgressBar(),e.cancel(a.motoTimer),a.currentEndTime=0,a.diffStartStop=0,a.addLeaveAnimation();var c=a.getDelayBeforeSlideChange();a.paginateSlide=e(function(){parseInt(b)>parseInt(a.currentIndex)?a.setRightClass():parseInt(b)<parseInt(a.currentIndex)&&a.setLeftClass(),a.currentIndex=b,a.quickScroll=!1,MPSLManager.swiped=!1,a.appliedPauses=!1,e.cancel(a.paginateSlide),e.cancel(a.motoTimer),a.currentEndTime=0,a.data.settings.timer?MPSLManager.swiped||"msSlideFade"===a.data.settings.slideAnimation?a.startTimer():g.when(a.slideAnimationEnd).then(function(){a.startTimer()}):a.reInitProgressBar(a.timerSeconds)},c)},a.checkEditMode=function(){return!a.data.settings.editMode},a.setCurrentSlideIndex=function(b){a.currentIndex=b},a.setRightClass=function(){angular.element("#"+a.getCurrentScope()).addClass("ms_to_right").removeClass("ms_to_left")},a.setLeftClass=function(){angular.element("#"+a.getCurrentScope()).addClass("ms_to_left").removeClass("ms_to_right")},a.isCurrentIndex=function(b){return a.currentIndex===b},a.isCurrentIndexFirst=function(b){return b===a.data.settings.startSlide},a.isThisSlideCurrent=function(a){return parseInt(a.parents(".ms_repeater").data("currentIndex"))===parseInt(this.currentIndex)},a.appliedPauses=!1,a.addLeaveAnimation=function(b){var c=i.find(".ms_repeater")[a.currentIndex],d=angular.element(c).find(".ms_layer");0!==d.length&&angular.forEach(d,function(c,d){var e=angular.element(c),f=e.scope();switch(angular.isUndefined(b)&&f.layer.leave(),f.layer.type){case"video":f.seekTo(0),f.pauseVideo();break;case"vimeo":f.seekTo(1e-5),f.pauseVideo();break;case"youtube":f.pauseVideo()}a.appliedPauses=!0})},a.getDelayBeforeSlideChange=function(){return 1500},a.next=function(){e.cancel(a.timerPrev),a.currentIndex=parseInt(a.currentIndex)<parseInt(a.data.slides.length)-1?parseInt(a.currentIndex)+1:0,a.currentEndTime=0,a.appliedPauses=!1,a.firstSlideEnded=!0},a.prev=function(){e.cancel(a.timerNext),a.currentIndex=parseInt(a.currentIndex)>0?parseInt(a.currentIndex)-1:parseInt(a.data.slides.length)-1,a.currentEndTime=0,a.appliedPauses=!1,a.firstSlideEnded=!0},a.nextSlide=function(b){if(a.slideAnimationDefer.reject(),a.slideAnimationDefer=g.defer(),a.slideAnimationEnd=a.slideAnimationDefer.promise,a.pauseProgressBar(),b){var c=a.quickScroll?500:a.getDelayBeforeSlideChange();a.reInitTimer(),e.cancel(a.motoTimer),a.currentEndTime=0,a.diffStartStop=0,a.addLeaveAnimation(),a.timerNext=e(function(){e.cancel(a.timerPrev),a.data.settings.timer?MPSLManager.swiped||"msSlideFade"===a.data.settings.slideAnimation?a.startTimer():g.when(a.slideAnimationEnd).then(function(){a.startTimer()}):a.reInitProgressBar(a.timerSeconds),a.setRightClass(),a.next(),e.cancel(a.timerNext)},c)}else a.addLeaveAnimation(!0),a.setRightClass(),a.next()},a.prevSlide=function(b){if(a.slideAnimationDefer.reject(),a.slideAnimationDefer=g.defer(),a.slideAnimationEnd=a.slideAnimationDefer.promise,a.pauseProgressBar(),b){var c=a.quickScroll?500:a.getDelayBeforeSlideChange();a.reInitTimer(),e.cancel(a.motoTimer),a.currentEndTime=0,a.diffStartStop=0,a.addLeaveAnimation(),a.timerPrev=e(function(){e.cancel(a.timerNext),a.data.settings.timer?MPSLManager.swiped||"msSlideFade"===a.data.settings.slideAnimation?a.startTimer():g.when(a.slideAnimationEnd).then(function(){a.startTimer()}):a.reInitProgressBar(a.timerSeconds),a.setLeftClass(),a.prev(),e.cancel(a.timerPrev)},c)}else a.addLeaveAnimation(!0),a.setLeftClass(),a.prev()},a.nextSlideOutside=function(){a.currentIndex=parseInt(a.currentIndex)<parseInt(a.data.slides.length)-1?parseInt(a.currentIndex)+1:0},a.prevSlideOutside=function(){a.currentIndex=parseInt(a.currentIndex)>0?parseInt(a.currentIndex)-1:parseInt(a.data.slides.length)-1},a.isSlideBgType=function(a){return a in this.slide.backgrounds},a.isHideWidth=function(b){return isNaN(parseInt(b.hideWidth))||a.data.settings.editMode?!0:a.sliderWidth>=b.hideWidth},a.isLayerType=function(a){return this.layer.type===a},a.isCounter=function(){return a.data.settings.counter},a.dataAdjustment=function(){(angular.isUndefined(a.data.settings.height)||0===a.data.settings.height.length)&&(a.data.settings.height=c.height)},a.diffStartStop=0,a.startTimer=function(){return a.quickScroll=!1,a.currentTimeStart=Date.now(),0===a.currentEndTime||angular.isUndefined(a.currentEndTime)?a.timerSeconds=a.data.settings.timerDelay:a.timerSeconds=a.data.settings.timerDelay-a.diffStartStop,(isNaN(a.timerSeconds)||a.timerSeconds<0)&&(a.timerSeconds=a.data.settings.timerDelay,a.diffStartStop=0),b.isHover?!1:(a.startProgressBarByDelay(!0),void(a.motoTimer=e(function(){a.currentTimeStart=null,a.data.settings.timerReverse?a.prevSlide(!1):a.nextSlide(!1),MPSLManager.swiped||"msSlideFade"===a.data.settings.slideAnimation?(e.cancel(a.motoTimer),a.currentEndTime=0,a.diffStartStop=0,a.pieTimerCurrentStop=0,a.startTimer(!0)):g.when(a.slideAnimationEnd).then(function(){e.cancel(a.motoTimer),a.currentEndTime=0,a.diffStartStop=0,a.pieTimerCurrentStop=0,a.startTimer(!0)}),MPSLManager.swiped=!1},a.timerSeconds)))},a.stopTimer=function(){a.diffStartStop=angular.isUndefined(a.diffStartStop)?0:a.diffStartStop,a.diffStartStop+=Date.now()-a.currentTimeStart,a.currentEndTime=a.data.settings.timerDelay-a.diffStartStop,a.tempTime=Date.now(),a.pauseProgressBar(),e.cancel(a.motoTimer),0===a.currentEndTime||angular.isUndefined(a.currentEndTime)?a.timerSeconds=a.data.settings.timerDelay:a.timerSeconds=a.data.settings.timerDelay-a.diffStartStop},a.setTimerSeconds=function(){0===a.currentEndTime||angular.isUndefined(a.currentEndTime)?a.timerSeconds=a.data.settings.timerDelay:a.timerSeconds=a.data.settings.timerDelay-a.diffStartStop},a.reInitProgressBar=function(){a.data.settings.slideshowTimerShow&&a.bannerLine.css({width:"0%"})},a.progressBarCalc=function(){a.diffStartStop+=Date.now()-a.currentTimeStart,a.currentTimeStart=Date.now(),a.firstSlideEnded?a.bannerTime=a.diffStartStop>c.bannerDelay?a.diffStartStop-c.bannerDelay:0:a.bannerTime=a.diffStartStop,a.progress=a.bannerTime/a.percentStep,a.data.settings.slideshowTimerShow&&a.bannerLine.css("width",a.progress+"%")},a.startProgressBarByDelay=function(b){a.cBannerDelay=a.firstSlideEnded?c.bannerDelay:0,a.data.settings.slideshowTimerShow&&a.bannerLine.parent().show(),h.cancel(a.bannerInterval),a.bannerPause||a.data.settings.slideshowTimerShow&&a.bannerLine.css({width:"0%"}),a.percentStep=(a.data.settings.timerDelay-a.cBannerDelay)/100,a.progressBarCalc(),a.bannerInterval=h(function(){a.progressBarCalc(),a.progress>=100&&h.cancel(a.bannerInterval)},(a.data.settings.timerDelay-a.cBannerDelay)/800),b||a.reInitProgressBar(a.timerSeconds),a.currentKeyTimer?(a.timerSeconds===a.data.settings.timerDelay&&a.reInitProgressBar(a.timerSeconds),a.currentKeyTimer=!1):a.reInitProgressBar(a.timerSeconds)},a.pauseProgressBar=function(){a.bannerPause=!0,h.cancel(a.bannerInterval),e.cancel(a.bannerTimeout),a.currentKeyTimer=!0},a.changeStartStopButton=function(){a.ppButton.removeClass("ms_pause")},a.$watch("currentIndex",function(){a.data.slides.forEach(function(a){a.visible=!1}),angular.isDefined(a.data.slides[a.currentIndex])&&(a.data.slides[a.currentIndex].visible=!0)}),a.data.settings.countSlides=a.data.slides.length,a.data.settings.editMode?(a.data.settings.timer=!1,a.data.settings.hoverTimer=!1,a.bullets.hide(),a.arrows.hide()):a.SliderManager={},1===a.data.slides.length&&(a.data.settings.timer=!1,a.data.settings.hoverTimer=!1,a.bullets.hide(),a.arrows.hide()),a.dataAdjustment(),a.initSlider=function(){function d(a){this.element=0!=angular.element(a).children().length?angular.element(a).children(".ms_layer"):angular.element(a),this.domElement=angular.element(a)[0],this.elementScope=this.element.scope()}function e(a){this.element=angular.element(a),this.domElement=angular.element(a)[0],this.elementScope=this.element.scope()}d.prototype.getDomElement=function(){return this.domElement},d.prototype.getScope=function(){return this.elementScope},d.prototype.setOptions=function(b){b=a.prepareLayoutOptions(b),this.elementScope.manipulate(b),a.$apply()},d.prototype.setOption=function(b,c){this.elementScope.manipulateSingle(b,c),a.$apply()},d.prototype.setFontOptions=function(b){this.elementScope.manipulateFontOptions(b),a.$apply()},d.prototype.getType=function(){return this.elementScope.layer.type},d.prototype.getOrder=function(){return this.elementScope.$index},d.prototype.remove=function(){this.elementScope["delete"](this.elementScope)},e.prototype.setOptions=function(a,b){this.elementScope.manipulateSlide(this.elementScope,a,b)},a.SliderManager={updateGrid:function(c,d,e){c&&d&&(i.find(".ms_wrapper").css({width:c,height:d}),a.layout=e,a.onResize(),b.$apply())},getSlide:function(a){return new e(a)},getLayer:function(a){return new d(a)},createLayer:function(b,e){var f={};f.width=o.get(),f.height=o.get(),e=a.prepareLayoutOptions(e);for(var g in e)f[g]=e[g];f.type=b,f.styles=o.getStyles(),"image"===b&&(f.defaultImageDimensions={},e.width&&(f.defaultImageDimensions.width=e.width)),"html"===b&&"undefined"==typeof f.whiteSpace&&(f.whiteSpace=o.get(c.whiteSpace)),a.data.slides[0].layers.push(f),a.$apply();var h=i.find(".ms_repeater")[0],j=angular.element(h).find(".layers"),k=new d(j[j.length-1]);return k},duplicateLayer:function(b,c){var e={};c=a.prepareLayoutOptions(c);for(var f in b.elementScope.layer)e[f]=b.elementScope.layer[f];e=angular.extend({},e,c),delete e.$$hashKey,delete e.typeChanged,delete e.created,a.data.slides[0].layers.push(e),a.$apply();var g=i.find(".ms_repeater")[0],h=angular.element(g).find(".layers");return new d(h[h.length-1])}}},a.calculationOfPosition=function(b,c,d){if(d.css({top:"auto",left:"auto",bottom:"auto",right:"auto"}),"object"!=typeof b)return!1;var e=i.find(".ms_layers_wrapper:eq(0)"),f=e.outerWidth(),g=e.height(),h=d.outerWidth(!0),j=a.factor,k={},l=a.data.settings.availableLayouts[a.layout]?a.layout:a.lastLayout;if(b["align-horizontal"]&&("center"===b["align-horizontal"][l]?("html"!==c.type||""!==c.width&&null!==c.width||"normal"!==d.css("white-space")||(d.addClass("ms_layer_left_pos"),h=d.outerWidth(!0),d.removeClass("ms_layer_left_pos")),k.left=f/2-h/2+b["offset-x"][l]*j):"left"===b["align-horizontal"][l]?k.left=b["offset-x"][l]*j:"right"===b["align-horizontal"][l]&&(k.right=b["offset-x"][l]*j),d.css(k)),k={},b["align-vertical"]){var m=d.outerHeight(!0);"middle"===b["align-vertical"][l]?k.top=g/2-m/2+b["offset-y"][l]*j:"top"===b["align-vertical"][l]?k.top=b["offset-y"][l]*j:"bottom"===b["align-vertical"][l]&&(k.bottom=b["offset-y"][l]*j),d.css(k)}},a.applyLeaveAnimation=function(b,c,d){var f=d-(a.data.settings.timerDelay-a.timerSeconds);a.leaveTimer=e(function(){c.removeClass(b.animation),c.addClass(b.leaveAnimation),e.cancel(a.leaveTimer)},f)},a.percentage=function(a){return parseInt(a)+"%"},a.s=function(a){return parseInt(a)+"s"},a.ms=function(a){return parseInt(a)+"ms"},a.px=function(a){return a+"px"},a.slice=function(a,b){return"number"==typeof a&&(a=a.toString()),"string"!=typeof a&&(a=""),a.slice(0,b?-1:-2)},a.stopPlayingTimer=function(){a.slideAnimationDefer.reject(),a.slideAnimationDefer=g.defer(),a.slideAnimationEnd=a.slideAnimationDefer.promise,a.data.settings.timer&&!a.data.settings.isSingleSlide&&a.data.settings.isSlideshowEnabled&&(a.ppButton.removeClass("ms_pause"),a.data.settings.timer=!1,e.cancel(a.motoTimer),a.stopTimer(),a.$$phase||a.$apply())},a.startPlayingTimer=function(){a.data.settings.timer||a.data.settings.isSingleSlide||!a.data.settings.isSlideshowEnabled||(isNaN(a.diffStartStop)&&a.diffStartStop<0&&(a.diffStartStop=0),!a.data.settings.timer&&a.currentTimer&&a.tempTimerForVideo&&(a.ppButton.addClass("ms_pause"),a.data.settings.timer=!0,a.startTimer()),a.$$phase||a.$apply())},a.aIds=[],a.verifyPlayers=function(a){for(var b={},c=0;c<a.length;++c){var d=a[c];if(Object.prototype.hasOwnProperty.call(b,d))return!0;b[d]=!0}return!1},a.arrYoutubePlayersState={},a.arrVideoPlayersState={},a.arrVimeoPlayersState={},a.checkAllPlayers=function(){for(var b in a.arrYoutubePlayersState)if(1===a.arrYoutubePlayersState[b]||3===a.arrYoutubePlayersState[b])return!1;for(var b in a.arrVideoPlayersState)if(!a.arrVideoPlayersState[b].paused)return!1;for(var b in a.arrVimeoPlayersState)if("play"===a.arrVimeoPlayersState[b])return!1;return!0},a.youtubeApiScriptAdded=!1,a.loadYoutubeApiScript=function(){if(!a.youtubeApiScriptAdded&&!angular.element('script[src="https://www.youtube.com/iframe_api"]').length){var b=document.createElement("script");b.src="https://www.youtube.com/iframe_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c),a.youtubeApiScriptAdded=!0}},"undefined"==typeof window.mpslYTApiReady&&(a.youtubeApiReadyDefer=g.defer(),window.mpslYTApiReady=a.youtubeApiReadyDefer.promise,window.onYouTubeIframeAPIReady=function(){a.youtubeApiReadyDefer.resolve()}),a.disableMobileCheck=function(a){return j&&a?!1:!0},a.showPagination=function(){return a.data.settings.editMode||!a.data.settings.thumbnailsShow||j||a.data.settings.isSingleSlide?!1:!0},a.timeoutLeave=function(b){e.cancel(b.layer.layerTimerLeave),isNaN(a.timerSeconds)&&(a.timerSeconds=a.data.settings.timerDelay),b.layer.currDelay=angular.isUndefined(b.layer.leaveDelay)||null===b.layer.leaveDelay?a.timerSeconds-1500:b.layer.leaveDelay-(a.data.settings.timerDelay-a.timerSeconds),b.layer.layerTimerLeave=e(function(){b.layer.leave(),e.cancel(b.layer.layerTimerLeave)},b.layer.currDelay)},a.applyLAnimation=function(c,d){g.when(a.sliderLoaded).then(function(){a.data.settings.timer&&!b.isHover&&(a.firstSlideEnded&&!MPSLManager.swiped&&"msSlideFade"!==a.data.settings.slideAnimation?g.when(a.slideAnimationEnd).then(function(){a.timeoutLeave(c,d)}):a.timeoutLeave(c,d))})},a.addLayerAnimation=function(b,d){g.when(a.sliderLoaded).then(function(){d.parents(".ms_slide").hasClass("ms_current_slide")&&(d.addClass(c.animatedClass+" "+b.animation),angular.element(d).css({"-webkit-animation-delay":a.ms(b.delay),"animation-delay":a.ms(b.delay)})),b.duration&&angular.element(d).css({"animation-duration":a.ms(b.duration),"-webkit-animation-duration":a.ms(b.duration)}),b.timingFunction&&d.addClass(b.timingFunction)})},a.setElementPosition=function(b,c,d){var e,f=b.width(),g=b.height(),i=c.title,j=c.classes,k=c.content,l=c.type;e="button"===l?!j||!i:"html"===l?!j||!k:!j;var m=h(function(i){var j=b.width(),k=b.height();f===j&&g===k||e||i>=30?(a.calculationOfPosition(c.position,c,b,b.parents("#"+a.getCurrentScope())),d.resolve(),h.cancel(m)):(f=j,g=k)},200)},a.setElPosition=function(b,c,d){var e,f=b.width(),g=b.height(),i=c.title,j=c.classes,k=c.content,l=c.type;e="button"===l?!j||!i:"html"===l?!j||!k:!j;var m=h(function(i){var j=b.width(),k=b.height();f===j&&g===k||e||i>=30?(a.calculationOfPosition(c.position,c,b,b.parents("#"+a.getCurrentScope())),d.resolve(),h.cancel(m)):(f=j,g=k)},200)},a.addLeaveLayerAnimation=function(b,c){b.removeClass(c.animation),"mpsl-auto"===c.leaveAnimation&&(c.leaveAnimation="flip"===c.animation?"flip":c.animation.replace("In","Out")),b.addClass(c.leaveAnimation);var d=a.quickScroll?0:10;angular.element(b).css({"-webkit-animation-delay":a.ms(d),"animation-delay":a.ms(d)})},a.addEnterLayerAnimation=function(b,d){MPSLManager.swiped||"msSlideFade"===a.data.settings.slideAnimation?(b.removeClass(d.leaveAnimation),b.addClass(c.animatedClass),b.addClass(d.animation),angular.element(b).css({"-webkit-animation-delay":a.ms(d.delay),"animation-delay":a.ms(d.delay)})):g.when(a.slideAnimationEnd).then(function(){b.removeClass(d.leaveAnimation),b.addClass(c.animatedClass),b.addClass(d.animation),angular.element(b).css({"-webkit-animation-delay":a.ms(d.delay),"animation-delay":a.ms(d.delay)})},function(){b.removeClass(d.leaveAnimation),b.addClass(c.animatedClass),b.addClass(d.animation),angular.element(b).css({"-webkit-animation-delay":a.ms(d.delay),"animation-delay":a.ms(d.delay)})})},a.resetStyles=function(b,c){var d=b.type,e="image"===d,f=e?c.scope().imageElement:c,g=[],h=l.indexOf(a.layout);h!=l.length-1&&(g=b.originalStyles[l[h+1]]);var i=c.data("defStyles"),j=[g,i];"html"===d&&j.push(["width"]);for(var k in j){var m=j[k],n=angular.isArray(m);for(var o in m)if(m.hasOwnProperty(o)){var p=n?m[o]:o;c.css(p,""),e&&f.css(p,"")}}},a.changeStyles=function(b,c,d,e){var f=void 0!==e?e:b.resizable;d="undefined"==typeof d?!1:d;var h=b.resizable?a.factor:1,i=a.data.settings.availableLayouts[a.layout]?a.layout:a.lastLayout,j=b.width[a.layout],k=b.height[a.layout],l=b.type,n="image"===l,o=d&&"IMG"===c[0].nodeName,p=n||o,q=n?c.scope().imageElement:c,r=!0,s=!0;if(f&&!a.data.settings.editMode){var t=function(e){c.data("defStyles")&&(m.set(c.data("defStyles"),c,h,!0),n&&m.set(q.data("defStyles"),q,h,!0)),!n&&b.styles[i]&&"IMG"!==c[0].nodeName&&m.set(b.styles[i],c,h,!1,a.data.settings.editMode),p&&q.css({width:"",height:""});var f=p?1:h,l=p?q:c;j&&!d&&l.css("width",j*f),k&&!d&&l.css("height",k*f);var o=!0;if(p&&(o=a.initStyles(b,c,!1)),o===!0)s=!0,u();else{var r=g.defer();s=r.promise,o.then(function(){u(r)})}void 0!==e&&e.resolve()},u=function(a){var d,e;n?(e=q,d=b.defaultImageDimensions):o&&(e=c,d=e.data("defaultImageDimensions")),void 0!==d&&d&&d&&(d.width&&e.css("width",d.width*h),d.height&&e.css("height",d.height*h)),void 0!==a&&a.resolve()};a.resetStyles(b,c);var v=!0;if(!n&&b.styles[i]&&"IMG"!==c[0].nodeName?(m.set(b.styles[i],c,1,!1,a.data.settings.editMode),v=a.initStyles(b,c,!0,d)):n||"IMG"!==c[0].nodeName||(v=a.initStyles(b,c,!0,!0)),v===!0)r=!0,t();else{var w=g.defer();r=w.promise,v.then(function(){t(w)})}}if(a.data.settings.editMode&&(b.styles[i]&&"IMG"!==c[0].nodeName&&(c.data("defStyles")&&!b.changed&&(m.set(c.data("defStyles"),c,h,!0,a.data.settings.editMode),n&&m.set(q.data("defStyles"),q,h,!0,a.data.settings.editMode)),""!==b.styles[i]&&m.set(b.styles[i],c,h,!1,a.data.settings.editMode)),"image"===l)){var x=b.defaultImageDimensions;x&&x.width&&c.find("img").css("width",x.width*h)}var y=[];if(r!==!0&&y.push(r),s!==!0&&y.push(s),y.length){var z=g.defer();return g.all(y).then(function(){z.resolve()}),z.promise}return!0},a.changePos=function(b,c){a.calculationOfPosition(c.data("mpsl_positions"),b,c)},a.imagesLoaded=function(a,b){b="undefined"==typeof b?!1:b;var c=g.defer(),d=b?a:a.find("img");if(d.length){var f=[],h=!1;angular.forEach(d,function(a){var b=angular.element(a),c=b.attr("src");if("undefined"==typeof c||!c.trim())return!0;var d=g.defer();a.complete?d.resolve():(b.one("load",function(){h=!0,d.resolve()}),b.one("error",d.resolve)),f.push(d.promise)}),f.length?g.all(f).then(function(){if(h)var a=e(function(){c.resolve(),e.cancel(a)},100);else c.resolve()}):c.resolve()}else c.resolve();var i=c.promise,j=!0;return b||a.html()||(j=!1),g.when(i).then(function(){if(a.data("msImageLoaded",j),j){var b=a.find("img");b.length&&b.data("msImageLoaded",!0)}}),i},a.resizeSliderElements=function(){var b=[];return angular.forEach(i.find(".ms_layer"),function(c){var d=g.defer();b.push(d.promise);var e=angular.element(c),f=e.scope().layer;a.setElPosition(e,f,d)}),b},a.linkingElement=function(a,b,c){if(angular.isDefined(a.layer.type))switch(a.layer.type){case"image":case"button":case"video":case"youtube":case"vimeo":m.layer(a,b,c);break;case"html":m.htmlLayer(a,b,c)}},a.initStyles=function(b,c,d,e){d=void 0===d?!0:d,e=void 0===e?!1:e;var f=b.type,h="image"===f,i=h?c.scope().imageElement:c,j=!h&&"IMG"===c[0].nodeName;d&&(c.data("defStyles",m.explode(c)),h&&i.data("defStyles",m.explode(i)));var k,l,n;"image"===f?(n=!0,l=i,k=function(){b.defaultImageDimensions=a.getDimensionsByElement(l)}):"html"===b.type&&(!e||e&&j)?(l=c,j?(n=!0,k=function(){l.data("defaultImageDimensions",a.getDimensionsByElement(l))}):(n=!1,k=function(){var b=l.find("img");b.length&&angular.forEach(b,function(b){var c=angular.element(b);c.data("defaultImageDimensions",a.getDimensionsByElement(c))})})):j&&(n=!0,l=c,k=function(){b.defaultImageDimensions=a.getDimensionsByElement(l)});var o,p=g.defer();return void 0!==l?l.data("msImageLoaded")===!0?(k(),o=!0):(a.imagesLoaded(l,n).then(function(){k(),p.resolve()}),o=p.promise):o=!0,o},a.getDimensionsByElement=function(b){return{width:a.slice(b.css("width")),height:a.slice(b.css("height"))}},a.prepareLayoutOptions=function(b){return angular.forEach(p,function(c){if(b.hasOwnProperty(c)){var d=b[c];b[c]={},b[c][a.layout]=d}}),b}}angular.module("motosliderApp").controller("MotosliderCtrl",a),a.$inject=["$scope","$rootScope","defaults","parseData","$timeout","$sce","$q","$interval","$rootElement","detectMobileDevice","$swipe","listLayouts","styleService","layout","newLayoutService","listLayer"]}(),function(){function a(a){return{restrict:"AE",replace:!0,controller:"MotosliderCtrl",scope:!0,template:a.get("../app/views/template.html"),link:function(a,b){a.deferred=[],a.defaultWidth=parseInt(b.width()),b.css("opacity",0)}}}angular.module("motosliderApp").directive("motoslider",a),a.$inject=["$templateCache"]}(),function(){function a(){return{link:function(a){var b=function(a,c){angular.forEach(c,function(c,d){angular.isObject(c)&&a.hasOwnProperty(d)?b(a[d],c):a[d]=c})};a.manipulateSlide=function(c,d){d.hasOwnProperty("backgrounds")&&angular.forEach(a.slide.backgrounds,function(b,c){d.backgrounds.hasOwnProperty(c)||delete a.slide.backgrounds[c]}),b(a.slide,d),a.$apply()}}}}angular.module("motosliderApp").directive("msSlideRepeater",a)}(),function(){function a(){return{restrict:"A",link:function(a,b){a.$watch("currentIndex",function(c){var d=parseInt(c+1)+"/"+parseInt(a.data.settings.countSlides);angular.element(b).html(d)})}}}angular.module("motosliderApp").directive("msCounter",a)}(),function(){function a(a,b,c,d,e,f,g){return{link:function(h,i){var j=function(a){return h.layout?{width:parseInt(h.data.settings.grid[a].width),height:parseInt(h.data.settings.grid[a].height)}:void 0},k=h.data.settings.fullWidth,l=h.data.settings.fullHeight,m=h.data.settings.offsetSettings.container,n=h.data.settings.fullSizeGrid,o=h.data.settings.editMode,p=h.data.settings.availableLayouts;h.setFactor=function(){if(h.data.settings.editMode)h.factor=1;else{var a;if(d[h.layout]){if(p[h.layout])h.lastLayout=h.layout,a=h.layout;else{var b=e.indexOf(h.layout);do b--,h.lastLayout=e[b];while(!p[e[b]]);a=e[b]}var c=parseInt(i.width())/h.data.settings.grid[a].width,f=parseInt(i.height())/h.data.settings.grid[a].height;h.factor=f&&c>f?f:c,h.factor=h.factor>1?1:h.factor}}};var q=function(){document.body.style.overflow="hidden";var a=document.body.clientWidth;return document.body.style.overflow="scroll",a-=document.body.clientWidth,a||(a=document.body.offsetWidth-document.body.clientWidth),document.body.style.overflow="",a},r=function(b){"undefined"==typeof b&&(b=0);var c=a.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;if(!o){var d=null;if("px"===h.data.settings.offsetSettings.units&&(d=c-h.data.settings.offsetSettings.height),"%"===h.data.settings.offsetSettings.units){var e=c*h.data.settings.offsetSettings.height/100;d=c-e}d-=b,i.css({"max-height":"none",height:d?d:c})}},s=function(){if(k&&!o){var b="BackCompat"==document.compatMode?document.body:document.documentElement,d=b.scrollHeight>b.clientHeight?q():0,e=a.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,f=i.parent()[0].getBoundingClientRect().left,g=e-f-i.parent().outerWidth()-d;i.css({"max-width":"none",width:"auto","margin-left":-f+"px","margin-right":-g+"px"})}if(l&&!o)if(m){var j=angular.element(document).find(h.data.settings.offsetSettings.container);j.length?c.when(h.imagesLoaded(j)).then(function(){var a=0;angular.forEach(j,function(b){a+=angular.element(b).outerHeight(!0)}),r(a),h.changeLayers()}):r()}else r()},t=function(){var a=h.data.settings.availableLayouts[h.layout]?h.layout:h.lastLayout;h.currentGrid=j(a);var c=b.find(".ms_layers_wrapper"),d=i.height();if(i.css({height:parseInt(i.width())*h.currentGrid.height/h.currentGrid.width,"max-height":h.currentGrid.height}),!n&&!o){var e=parseInt(i.width())*h.currentGrid.height/h.currentGrid.width;if(l&&!k)angular.forEach(c,function(a){e=d<=angular.element(a).height()?d:e,angular.element(a).css({height:e})});else if(l&&k){var f=parseInt(i.height())*h.currentGrid.width/h.currentGrid.height;e=i.height()*h.factor,angular.forEach(c,function(a){d<=angular.element(a).height()&&(f*=h.factor),angular.element(a).css({height:e}),angular.element(a).css({width:f})})}}n&&!o&&angular.forEach(c,function(a){angular.element(a).css({width:parseInt(i.width()),"max-width":parseInt(i.width())})}),s()};if(h.layout="desktop",h.onResize=function(){h.data.settings.editMode||h.setLayoutType(),t(),h.setFactor(),h.currentWidth=i.width()},h.onResize(),!o){var u;h.onWindowResize=function(){h.onResize(),g.cancel(u),u=g(function(){h.onResize(),h.changeLayers(),g.cancel(u)},250),h.sliderWidth=a.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h.$apply()},angular.element(a).bind("resize.motoSlider",h.onWindowResize),i.on("$destroy",function(){angular.element(a).off("resize.motoSlider",h.onWindowResize)})}b.one("MPSliderBeforeLoad",function(){var b=g(function(){angular.element(a).triggerHandler("resize.motoSlider"),g.cancel(b)},0);h.onResize()}),h.changeLayers=function(){var a=i.find(".ms_layer");angular.forEach(a,function(a){h.linkingElement(angular.element(a).scope(),angular.element(a),!0)})},h.$watch("sliderWidth",function(a,b){b>a?h.isIncrease=!1:a>b&&(h.isIncrease=!0)});var v;if(!h.data.settings.editMode)if(h.data.settings.controlsHideOnLeave&&(h.isTouchDevice?i.bind("touchstart",function(){g.cancel(v),h.$apply("sliderMouseEnter = true"),v=g(function(){h.$apply("sliderMouseEnter = false"),g.cancel(v)},2e3)}):(i.bind("mouseenter",function(){h.$apply("sliderMouseEnter = true")}),i.bind("mouseleave",function(){h.$apply("sliderMouseEnter = false")}))),h.data.settings.timer)h.ppButton.addClass("ms_pause"),h.isTouchDevice?(h.data.settings.arrowsShow=!1,angular.element(i.parent()).bind("touchend",function(a){var b=angular.element(a.target).parent();b.hasClass("ms_arrows")||b.hasClass("ms_bullet_wrapper")||0!==h.delta?h.data.settings.arrowsShow=!1:h.data.settings.timer?(h.data.settings.arrowsShow=!0,h.pause()):(h.data.settings.arrowsShow=!1,h.start())})):h.data.settings.hoverTimer&&(i.bind("mouseenter",function(){f.isHover=!0,f.slideAnimating||h.pause()}),i.bind("mouseleave",function(){f.isHover=!1,f.slideAnimating||h.start()}));else if(h.isTouchDevice)var w=g(function(){h.$apply("data.settings.arrowsShow = true"),g.cancel(w)},0);h.start=function(){h.ppButton.addClass("ms_pause"),h.data.settings.timer=!0,h.startTimer(),h.$digest()},h.pause=function(){h.ppButton.removeClass("ms_pause"),h.data.settings.timer=!1,h.stopTimer(),g.cancel(h.motoTimer),angular.element(i).find(".ms_current_slide").find(".ms_layer").length&&g.cancel(angular.element(i).find(".ms_current_slide").find(".ms_layer").scope().layer.layerTimerLeave),h.$digest()}}}}angular.module("motosliderApp").directive("msSlider",a),a.$inject=["$window","$rootElement","$q","layout","listLayouts","$rootScope","$timeout"]}(),function(){function a(a){return{restrict:"A",link:function(b,c,d){b.getEnterAnimation=function(){return angular.isUndefined(b.slide.general.animation)||0===b.slide.general.animation.length?"bounceIn":b.slide.general.animation},b.getLeaveAnimation=function(){return angular.isUndefined(b.slide.general.fadeAnimation)||0===b.slide.general.fadeAnimation.length?"rollOut":b.slide.general.fadeAnimation},d.$set("enter-animation",b.getEnterAnimation()),d.$set("leave-animation",b.getLeaveAnimation()),d.$set("duration",b.slide.general.duration),d.$set("easing",b.slide.general.easing);
var e=c.closest(".ms_repeater");e.on("webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",function(b){angular.element(b.target).hasClass("ms_layer")||(a.slideAnimating=!0)}),e.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(c){if(!angular.element(c.target).hasClass("ms_layer")&&(a.slideAnimating=!1,"msSlideFade"===b.data.settings.slideAnimation&&b.slideAnimationDefer.resolve(),e.is(c.target)))if(e.hasClass("ms_current_slide"))"msSlideFade"!==b.data.settings.slideAnimation&&b.slideAnimationDefer.resolve(),e.removeClass(b.getEnterAnimation()),e.css({"-webkit-transform":"translate3D(0, 0, 0)","-moz-transform":"translate3D(0, 0, 0)","-ms-transform":"translate3D(0, 0, 0)",opacity:1}),e.siblings(".ms_slide").css({opacity:0});else{e.removeClass(b.getLeaveAnimation());var d=e.find(".layers>.ms_layer");angular.forEach(d,function(a){angular.element(a).scope().layer.removeShowClasses()})}}),b.isSlideEnter=function(){return b.slide.visible}}}}angular.module("motosliderApp").directive("msSlide",a),a.$inject=["$rootScope"]}(),function(){function a(){return{restrict:"A",link:function(a,b){a.bgOptions=a.slide.backgrounds.gradient,a.updateGradient=function(){var c=/[0-9]+([^ ,\)`]*)/.exec(a.bgOptions.position)[1],d=90-parseInt(a.bgOptions.position)+c;b.css("background",a.bgOptions.colorInitial).css("background","-moz-linear-gradient("+a.bgOptions.position+",  "+a.bgOptions.colorInitial+" 0%, "+a.bgOptions.colorFinal+" 100%)").css("background","-webkit-linear-gradient("+d+",  "+a.bgOptions.colorInitial+" 0%, "+a.bgOptions.colorFinal+" 100%)").css("background","-o-linear-gradient("+a.bgOptions.position+",  "+a.bgOptions.colorInitial+" 0%, "+a.bgOptions.colorFinal+" 100%)").css("background","-ms-linear-gradient("+a.bgOptions.position+",  "+a.bgOptions.colorInitial+" 0%, "+a.bgOptions.colorFinal+" 100%)").css("background","linear-gradient("+a.bgOptions.position+",  "+a.bgOptions.colorInitial+" 0%, "+a.bgOptions.colorFinal+" 100%)").css("min-height","100%")},a.$watch("bgOptions.position",function(){a.data.settings.editMode&&a.updateGradient()}),a.$watch("bgOptions.colorInitial",function(){a.data.settings.editMode&&a.updateGradient()}),a.$watch("bgOptions.colorFinal",function(){a.data.settings.editMode&&a.updateGradient()}),a.updateGradient(),a.getStyles=function(){}}}}angular.module("motosliderApp").directive("msSlideGradient",a)}(),function(){function a(){return{restrict:"A",link:function(a){a.bgOptions=a.slide.backgrounds.color,a.$watch("bgOptions.color",function(){return a.data.settings.editMode?{"background-color":a.getColor(a),"min-height":"100%","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover"}:void 0}),a.getStyles=function(){return{"background-color":a.getColor(a),"min-height":"100%","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover"}},a.getColor=function(a){return a.bgOptions.color}}}}angular.module("motosliderApp").directive("msSlideColor",a)}(),function(){function a(a){return{restrict:"A",link:function(b){b.bgOptions=b.slide.backgrounds.image,b.getBgSlide=function(){var a="url("+b.bgOptions.src+")",c=b.bgOptions.repeat,d="percentage"===b.bgOptions.position?b.bgOptions.positionX+"% "+b.bgOptions.positionY+"%":b.bgOptions.position,e="percentage"===b.bgOptions.fit?b.bgOptions.fitX+"% "+b.bgOptions.fitY+"%":b.bgOptions.fit;return{"min-height":"100%","background-image":a,"background-repeat":c,"background-position":d,"background-size":e,"-webkit-background-size":e,"-moz-background-size":e}},b.$watch("bgOptions.src",function(){return b.data.settings.editMode?b.getBgSlide():void 0}),b.$watch("bgOptions.position",function(){return b.data.settings.editMode?b.getBgSlide():void 0}),b.$watch("bgOptions.repeat",function(){return b.data.settings.editMode?b.getBgSlide():void 0}),b.$watch("bgOptions.fit",function(){return b.data.settings.editMode?b.getBgSlide():void 0}),b.getStyles=function(){return b.bgOptions.src?b.getBgSlide():{"background-color":a.bgColorSlide,"min-height":"100%","-webkit-background-size":b.bgOptions.fit,"-moz-background-size":b.bgOptions.fit,"background-size":b.bgOptions.fit}}}}}angular.module("motosliderApp").directive("msSlideImage",a),a.$inject=["defaults"]}(),function(){function a(a,b){return{restrict:"A",link:function(c,d){var e="mpsl-video-bg-cover",f="mpsl-video-bg-cover-",g=!0,h=[],i=b.defer(),j=i.promise,k=!1;c.bgOptions=c.slide.backgrounds.video,c.bgOptions.inited=!1,c.getStyles=function(){var a={};if(angular.isDefined(c.bgOptions._original)){var b=0,e=0,f=d.parent().width(),g=d.parent().height(),h=c.bgOptions._original.width/c.bgOptions._original.height*g,i=c.bgOptions._original.height/c.bgOptions._original.width*f;switch(c.bgOptions.fillmode){case"fill":h>=f?(a.width=h+"px",a.height="100%",h>f&&(b=-(h-f)/2)):(a.width="100%",a.height=i+"px",i>g&&(e=-(i-g)/2)),a["min-height"]="100%",a["min-width"]="100%",a["max-width"]="",a["max-height"]="",a.left=b,a.top=e}}return a},c.getSrc=function(b){return angular.isDefined(b)&&0!==b.length?a.trustAsResourceUrl(b):""},c.getType=function(a){switch(a){case"mp4":return"video/mp4";case"webm":return"video/webm";case"ogg":return"video/ogg";default:return""}},c.getVideoMute=function(){return c.bgOptions.mute},c.getVideoControls=function(){return c.bgOptions.controls},c.getVideoLoop=function(){return c.bgOptions.loop},c.getCoverTypeClass=function(a){var b=c.bgOptions.cover_type;return angular.isDefined(b)&&0!==b.length?a?" "+f+b:f+b:""},c.deleteSourcesHtml=function(a){a.find("source").remove()},c.addSourcesHtml=function(a){angular.forEach(c.bgOptions.sources,function(b,d){if(angular.isDefined(b)&&""!==b){var e=angular.element("<source />",{src:c.getSrc(b),type:c.getType(d)});a.append(e)}})},c.$watch("bgOptions.sources",function(){if(c.data.settings.editMode&&c.bgOptions.inited){delete c.bgOptions._original;var a=d.find("video");c.deleteSourcesHtml(a),c.addSourcesHtml(a),a[0].load()}},!0),c.$watch("bgOptions.cover",function(){c.data.settings.editMode&&c.bgOptions.inited&&(c.bgOptions.cover?c.addCoverIfNotExist():c.removeCover())}),c.$watch("bgOptions.cover_type",function(){c.data.settings.editMode&&c.bgOptions.inited&&c.setCoverType()}),c.$watch("bgOptions.fillmode",function(){c.data.settings.editMode&&c.updateStyle()}),c.removeCover=function(){d.find("."+e).remove()},c.addCoverIfNotExist=function(){if(!d.find("."+e).length){var a=angular.element("<div />",{"class":e+c.getCoverTypeClass(!0)});d.append(a)}},c.setCoverType=function(){var a=c.getCoverTypeClass();d.find("."+e).removeClass().addClass(e).addClass(a)},c.updateStyle=function(){d.css(c.getStyles())};var l=angular.element("<video />",{preload:"metadata",controls:!1,loop:c.getVideoLoop()});c.getVideoMute()&&(l[0].muted=c.getVideoMute()),(c.data.settings.editMode||!c.bgOptions.autoplay)&&l.removeAttr("autoplay"),l.on("loadedmetadata",function(a,b){c.bgOptions._original={},c.bgOptions._original.width=a.target.videoWidth,c.bgOptions._original.height=a.target.videoHeight,c.updateStyle(),i.resolve()}),c.isThisSlideCurrent(d)&&h.push(j),c.bgOptions.cover&&(c.addCoverIfNotExist(),c.setCoverType()),d.on("$destroy",function(){angular.element(window).off("resize",c.updateStyle)}),angular.element(window).on("resize",c.updateStyle),c.bgOptions.inited=!0,c.$watch("currentIndex",function(){parseInt(d.parents(".ms_repeater").data("currentIndex"))===parseInt(c.currentIndex)&&(k||(k=!0,c.addSourcesHtml(l),d.append(l)),!c.data.settings.editMode&&c.bgOptions.autoplay&&c.isThisSlideCurrent(d)&&b.when(j).then(function(){l[0].play()}))});var m=b.defer();b.all(h).then(function(){g=!1,m.resolve()}),c.deferred.push(m.promise)}}}angular.module("motosliderApp").directive("msSlideVideo",a),a.$inject=["$sce","$q"]}(),function(){function a(){return{restrict:"A",link:function(a,b,c){a.getSrc=function(a){return a.slide.src},a.getType=function(a){return a.slide.format},c.$set("src",a.getSrc(a)),c.$set("type",a.getType(a))}}}angular.module("motosliderApp").directive("msVideoSource",a)}(),function(){function a(a,b,c,d){return{restrict:"A",link:function(e,f){e.onLayerReady=function(a){return d(function(b,d){var g,h=e.layer.type,i=e.layer.classes,j=f.width(),k=f.height();g="button"===h?!i||!e.layer.title:"html"===h?!i||!e.layer.content:!i;var l=c(function(d){var e=f.width(),h=f.height();j===e&&k===h||g||d>=30?("function"==typeof a&&a(),b(),c.cancel(l)):(j=e,k=h)},200)})},b.one("MPSliderBeforeLoad",function(){e.linkingElement(e,f,!1)}),e.layer.status="created",e.data.settings.editMode||(f.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(b){f.is(b.target)&&("leaving"!==e.layer.status?f.removeClass(a.layerHideClass).addClass(a.layerShowClass).removeClass(e.layer.animation):f.removeClass(a.layerShowClass).addClass(a.layerHideClass).removeClass(e.layer.leaveAnimation))}),f.on("webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",function(b){f.is(b.target)&&f.removeClass(a.layerHideClass).removeClass(a.layerShowClass)}),f.on("dragstart",function(){return!1})),e.layer.removeShowClasses=function(){f.removeClass(a.layerShowClass)},e.layer.leave=function(){"leaving"!==e.layer.status&&(e.layer.status="leaving",e.addLeaveLayerAnimation(f,e.layer),e.layer.timingFunction&&f.removeClass(e.layer.timingFunction),e.layer.leaveTimingFunction&&f.addClass(e.layer.leaveTimingFunction),e.layer.leaveDuration&&angular.element(f).css({"-webkit-animation-duration":e.ms(e.layer.leaveDuration),"animation-duration":e.ms(e.layer.leaveDuration)}))},e.layer.enter=function(){e.layer.status="entering",e.addEnterLayerAnimation(f,e.layer),e.layer.leaveTimingFunction&&f.removeClass(e.layer.leaveTimingFunction),e.layer.timingFunction&&f.addClass(e.layer.timingFunction),e.layer.duration&&angular.element(f).css({"-webkit-animation-duration":e.ms(e.layer.duration),"animation-duration":e.ms(e.layer.duration)})}}}}angular.module("motosliderApp").directive("msLayer",a),a.$inject=["defaults","$rootElement","$interval","$q"]}(),function(){function a(a,b){return{restrict:"A",link:function(c,d,e){var f=!0,g=[],h=[];c.linkElement=null,c.imageElement=null,"A"==d[0].tagName?(c.linkElement=d,c.imageElement=d.find("img"),c.layer.link||(c.layer.linkClasses="")):c.imageElement=d,angular.forEach(c.layer.imgAttrs,function(a,b){"src"!==b&&"class"!==b&&c.imageElement.attr(b,a)});var i=b.defer();c.imageElement.on("load",function(){var b=a(function(){i.resolve(),a.cancel(b)},100)}),c.layer.src.length?c.imageElement[0].addEventListener("error",function(a){i.resolve()}):i.resolve(),c.$watch("layer.src",function(){c.data.settings.editMode&&(c.imageElement.attr("src",c.layer.src),h.push(i.promise))}),c.layer.clArr1=[],c.$watch("layer.classes",function(){if(c.data.settings.editMode){c.layer.classes&&c.layer.clArr1.push(c.layer.classes),c.layer.clArr1.forEach(function(a){c.imageElement.removeClass(a)}),c.imageElement.attr("style",""),c.layer.classes&&c.imageElement.addClass(c.layer.classes),e.$set("positions",c.layer.position);var a=b.defer();c.setElementPosition(d,c.layer,a),h.push(a.promise)}}),c.layer.clArr2=[],c.$watch("layer.linkClasses",function(){if(c.data.settings.editMode){c.layer.linkClasses&&c.layer.clArr2.push(c.layer.linkClasses),c.layer.clArr2.forEach(function(a){c.linkElement.removeClass(a)}),c.linkElement.attr("style",""),c.linkElement.addClass("ms_image_layer"),c.layer.linkClasses&&c.linkElement.addClass(c.layer.linkClasses),e.$set("positions",c.layer.position),c.linkElement.css("opacity","1");var a=b.defer();c.setElementPosition(d,c.layer,a),h.push(a.promise)}});var j=c.$watch("layer.width",function(){c.imageElement.css({width:c.layer.width[c.layout]}),j()});if(c.linkElement&&c.layer.link&&c.linkElement.addClass(c.layer.linkClasses),c.imageElement.addClass(c.layer.classes),c.manipulate=function(a){var b,e,f,g=!1;(a.hasOwnProperty("link")&&!a.link||!a.hasOwnProperty("link")&&!c.layer.link)&&(a.linkClasses="");for(var h in a)b=!("undefined"==typeof a[h]||""===a[h]||null===a[h]),e=!("undefined"==typeof c.layer[h]||""===c.layer[h]||null===c.layer[h]),f=!b&&!e,g||f||angular.equals(c.layer[h],a[h])||(g=!0),c.layer[h]=a[h];g?c.$apply():d.parent().trigger("MPSLLayerChange"),c.layer.changed=!0},c["delete"]=function(a){c.data.slides[0].layers.splice(a.$index,1),c.$apply()},c.getImageEnterAnimationLayer=function(a){return a.animation},c.getImageLayer=function(a){return a.leaveAnimation},c.getLeaveDelayAnimationLayer=function(a){return a.leaveDelay},c.imageElement.attr("src",c.layer.src),c.linkElement&&(e.$set("target",c.layer.target),e.$set("href",c.layer.link)),c.data.settings.editMode)d.addClass("ms_visible"),d.css({opacity:1});else{var k=b.defer();setTimeout(function(){d.addClass("ms_visible"),k.resolve()},parseInt(c.layer.delay)),e.$set("leave-delay",c.getLeaveDelayAnimationLayer(c.layer)),c.addLayerAnimation(c.layer,d)}c.linkElement&&e.$set("linkProportions",{"padding-top":c.slice(c.linkElement.css("padding-top")),"padding-right":c.slice(c.linkElement.css("padding-right")),"padding-bottom":c.slice(c.linkElement.css("padding-bottom")),"padding-left":c.slice(c.linkElement.css("padding-left")),"border-top-width":c.slice(c.linkElement.css("border-top-width")),"border-right-width":c.slice(c.linkElement.css("border-right-width")),"border-left-width":c.slice(c.linkElement.css("border-left-width")),"border-bottom-width":c.slice(c.linkElement.css("border-bottom-width")),"letter-spacing":c.px(c.linkElement.css("letter-spacing")),"line-height":c.px(c.linkElement.css("line-height"))});var l=b.defer();c.$evalAsync(function(){b.when(i.promise).then(function(){c.initStyles(c.layer,d),d.data("mpsl_positions",c.layer.position),c.data.settings.editMode&&c.linkingElement(c,d,!1),l.resolve()})}),g.push(l.promise),c.$watch("[data.settings.timer, currentIndex]",function(){parseInt(d.parents(".ms_repeater").data("currentIndex"))===parseInt(c.currentIndex)?c.data.settings.editMode||c.layer.applyLeave&&(c.layer.enter(),c.layer.applyLeave=!1):c.layer.applyLeave=!0,c.data.settings.timer?parseInt(d.parents(".ms_repeater").data("currentIndex"))===parseInt(c.currentIndex)&&(a.cancel(c.layer.layerTimerLeave),c.applyLAnimation(c,d)):(a.cancel(c.layer.layerTimerLeave),null!==c.layer.leaveDelay&&parseInt(d.parents(".ms_repeater").data("currentIndex"))===parseInt(c.currentIndex)&&(c.data.settings.editMode||(c.layer.layerTimerLeave=a(function(){c.layer.applyLeave=!1,a.cancel(c.layer.layerTimerLeave)},c.layer.leaveDelay))))},!0);var m=b.defer();b.all(g).then(function(){m.resolve(),i=b.defer(),d.parent().trigger("MPSLLayerCreate")}),c.deferred.push(m.promise),c.data.settings.editMode&&c.$watchCollection("[layer.src, layer.classes, layer.width, layer.link, layer.linkClasses]",function(){f?f=!1:b.all(h).then(function(){d.parent().trigger("MPSLLayerChange"),h=[],i=b.defer()})})}}}angular.module("motosliderApp").directive("msImageLayer",a),a.$inject=["$timeout","$q"]}(),function(){function a(a,b){return{restrict:"A",link:function(c,d,e){var f=!0,g=[],h=[];c.$watch("layer.title",function(){c.data.settings.editMode&&d.text(c.layer.title)}),c.layer.clArr=[],c.$watch("layer.classes",function(){if(c.data.settings.editMode){c.layer.clArr.push(c.layer.classes),c.layer.clArr.forEach(function(a){d.removeClass(a)}),d.attr("style",""),d.addClass("ms_button_layer "+c.layer.classes),e.$set("positions",c.layer.position),d.css("opacity","1");var a=b.defer();c.setElementPosition(d,c.layer,a),h.push(a.promise)}}),c.$watch("layer.link",function(){c.data.settings.editMode&&e.$set("href",c.layer.link)}),c.$watch("layer.target",function(){c.data.settings.editMode&&e.$set("target",c.layer.target)}),d.addClass(c.layer.classes);d.parents("#"+c.getCurrentScope());if(c.manipulate=function(a){var b=!1;for(var e in a)b||angular.equals(c.layer[e],a[e])||(b=!0),c.layer[e]=a[e];b?(c.$apply(),c.layer.changed=!0,c.changeStyles(c.layer,d)):d.parent().trigger("MPSLLayerChange")},c.manipulateFontOptions=function(a){for(var b in a)a.hasOwnProperty(b)&&(c.layer.styles[c.layout][b]=a[b]);c.changeStyles(c.layer,d)},c["delete"]=function(a){c.data.slides[0].layers.splice(a.$index,1),c.$apply()},d.addClass(c.layer.classes),d.text(c.layer.title),d.addClass("ms_visible"),e.$set("target",c.layer.target),e.$set("href",c.layer.link),c.data.settings.editMode?d.css({opacity:1}):(d.addClass("ms_visible"),c.addLayerAnimation(c.layer,d)),c.initStyles(c.layer,d),d.data("mpsl_positions",c.layer.position),c.data.settings.editMode){var i=b.defer();c.setElementPosition(d,c.layer,i),g.push(i.promise)}c.$watch("[data.settings.timer, currentIndex]",function(){parseInt(d.parents(".ms_repeater").data("currentIndex"))===parseInt(c.currentIndex)?c.data.settings.editMode||c.layer.applyLeave&&(c.layer.enter(),c.layer.applyLeave=!1):c.layer.applyLeave=!0,c.data.settings.timer?parseInt(d.parents(".ms_repeater").data("currentIndex"))===parseInt(c.currentIndex)&&(a.cancel(c.layer.layerTimerLeave),c.applyLAnimation(c,d)):(a.cancel(c.layer.layerTimerLeave),null!==c.layer.leaveDelay&&parseInt(d.parents(".ms_repeater").data("currentIndex"))===parseInt(c.currentIndex)&&(c.data.settings.editMode||(c.layer.layerTimerLeave=a(function(){c.layer.applyLeave=!1,a.cancel(c.layer.layerTimerLeave)},c.layer.leaveDelay))))},!0);var j=b.defer();b.all(g).then(function(){j.resolve(),d.parent().trigger("MPSLLayerCreate")}),c.deferred.push(j.promise),c.data.settings.editMode&&c.$watchCollection("[layer.title, layer.classes, layer.link, layer.target]",function(a,c,e){f?f=!1:b.all(h).then(function(){d.parent().trigger("MPSLLayerChange"),h=[]})})}}}angular.module("motosliderApp").directive("msButtonLayer",a),a.$inject=["$timeout","$q"]}(),angular.module("motosliderApp").directive("msVideoLayer",videoLayerDirective),videoLayerDirective.$inject=["$timeout","$sce","$q","defaults"],function(){function a(){return{restrict:"A",link:function(a,b,c){a.getSrc=function(a){return a.layer.src},a.getType=function(a){return a.layer.type},c.$set("format",a.getType(a)),c.$set("src",a.getSrc(a))}}}angular.module("motosliderApp").directive("msVideoLayerSource",a)}(),function(){function a(a,b,c){return{restrict:"A",link:function(d,e,f){var g,h=!0,i=[],j=[],k=e.find("iframe"),l=c.defer(),m=l.promise,n=!1,o=!0,p=!0;d.layer.default_preview_image=a.info.path+a.videoBackground,d.layer.typeChanged=d.layer.hasOwnProperty("typeChanged")&&d.layer.typeChanged,d.layer.created=!1;var q=d.layer.autoplay||d.data.settings.editMode;d.getYoutubeEnterAnimationLayer=function(a){return a.animation},d.getYoutubeLeaveAnimationLayer=function(a){return a.leaveAnimation},d.pixelerize=function(a){return parseInt(a)+"px"},d.layer.clArr=[],d.$watch("layer.classes",function(){if(d.data.settings.editMode){d.layer.classes&&d.layer.clArr.push(d.layer.classes),d.layer.clArr.forEach(function(a){e.removeClass(a)}),e.attr("style",""),e.addClass("ms_youtube_layer"),d.layer.classes&&e.addClass(d.layer.classes),f.$set("positions",d.layer.position),e.css("opacity","1");var a=c.defer();d.setElementPosition(e,d.layer,a),j.push(a.promise)}});var r=c.defer();k.on("load",function(){r.resolve(),r=c.defer()});var s=r.promise;d.isThisSlideCurrent(e)&&q&&i.push(s),d.data.settings.editMode&&d.$watch("layer.src",function(){k.attr("src",d.getYoutubeSrc(d.layer)),s=r.promise,j.push(s)}),d.$watch("layer.poster",function(){d.data.settings.editMode&&d.setPreviewImage()});var t=d.$watch("layer.width",function(){e.css({width:d.layer.width[d.layout]}),t()}),u=d.$watch("layer.height",function(){e.css({height:d.layer.height[d.layout]}),u()});d.$watch("layer.controls",function(){d.data.settings.editMode&&k.attr("src",d.getYoutubeSrc(d.layer))}),d.manipulate=function(a){var b=!1;a.hasOwnProperty("type")&&!angular.equals(d.layer.type,a.type)&&(d.layer.typeChanged=!0);for(var c in a)b||angular.equals(d.layer[c],a[c])||(b=!0),d.layer[c]=a[c];b?d.$apply():e.parent().trigger("MPSLLayerChange"),d.layer.changed=!0},d.setPreviewImage=function(){d.layer.poster.length?d.layer.preview_image=d.layer.poster:d.layer.preview_image=d.layer.default_preview_image},d.clickPreviewButton=function(){o=g||!d.detectMobile,d.stopPlayingTimer(),w(),c.when(m).then(function(){d.hidePreviewImage(),o&&(d.seekTo(0),g.playVideo())})},d.hidePreviewImage=function(){var a=e.find(".ms_youtube_layer_preview_image");a.addClass("hidden")},d.showPreviewImage=function(){var a=e.find(".ms_youtube_layer_preview_image");a.removeClass("hidden")},d.onLeaveSlide=function(){d.showPreviewImage()},d["delete"]=function(a){d.data.slides[0].layers.splice(a.$index,1),d.$apply()},d.percentage=function(a){return parseInt(a)+"%"},d.delayValidation=function(a){return parseInt(a)+"ms"},d.getWidth=function(b){return angular.isUndefined(b.width)||0===b.width.length?a.widthYoutube:b.width},d.getHeight=function(b){return angular.isUndefined(b.height)||0===b.height.length?a.heightYoutube:b.height},d.getYoutubeId=function(){var a,b=d.layer,c=b.src.match(/^(?:http(?:s)?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:(?:watch)?\?(?:.*&)?v(?:i)?=|(?:embed|v|vi|user)\/))([^\?&\"\'>]+)/);if(null===c){var e=b.src.match(/^[A-za-z0-9_-]{11}$/);a=null!==e?e[0]:""}else a=angular.isArray(c)&&angular.isDefined(c[1])?c[1]:"";return a},d.getYoutubeSrc=function(a){var b=d.getYoutubeId(),c=d.layer.controls?1:0,e="";return location.protocol+"//www.youtube.com/embed/"+b+"?html5=1&enablejsapi=1&fs=1&rel=0&showinfo=0&controls="+c+e},k.attr("frameborder",0),k.attr("webkitallowfullscreen",!0),k.attr("mozallowfullscreen",!0),k.attr("allowfullscreen",!0),d.data.settings.editMode?e.css("opacity",1):(d.setPreviewImage(),d.addLayerAnimation(d.layer,e),e.addClass(d.layer.classes),e.css({width:d.layer.width[d.layout],height:d.layer.height[d.layout]}),"undefined"==typeof window.youtubeShow&&(window.youtubeShow=!0)),d.initStyles(d.layer,e),e.data("mpsl_positions",d.layer.position);var v=c.defer();d.setElementPosition(e,d.layer,v),d.isThisSlideCurrent(e)&&i.push(v.promise);var w=function(){"undefined"==typeof g&&(g=!0,k.attr("src",d.getYoutubeSrc(d.layer)),d.loadYoutubeApiScript(),c.all([window.mpslYTApiReady,s]).then(function(){g=new YT.Player(k[0].id),y(!0),q=!1}))};if(d.pauseVideo=function(a){angular.isUndefined(a)&&(a=!0),g&&c.when(m).then(function(){g.pauseVideo(),a&&d.showPreviewImage()}),d.layer.autoplay&&n&&(p=!1)},d.seekTo=function(a){g&&g.seekTo(a,!0)},d.applyPreferences=function(a){d.layer.mute?a.mute():a.unMute()},d.onReady=function(a){d.data.settings.editMode||(d.applyPreferences(a.target),d.arrYoutubePlayersState[k[0].id]=g.getPlayerState()),l.resolve()},d.onStateChange=function(a,b){d.arrYoutubePlayersState[k[0].id]=b.data,a&&(b.data===YT.PlayerState.PLAYING||b.data===YT.PlayerState.BUFFERING?d.data.settings.editMode||d.appliedPauses||d.stopPlayingTimer():b.data!==YT.PlayerState.PAUSED&&b.data!==YT.PlayerState.ENDED||!d.checkAllPlayers()||d.appliedPauses||d.data.settings.editMode||d.startPlayingTimer()),b.data===YT.PlayerState.ENDED&&d.layer.loop&&g.seekTo(0)},!d.data.settings.editMode){var x=function(){d.isThisSlideCurrent(e)&&d.layer.autoplay&&!n&&(c.when(m).then(function(){p&&(d.hidePreviewImage(),g.playVideo())}),n=!0)};angular.forEach(a.leaveEventNamesArr,function(a){e[0].addEventListener(a,x,!1)})}var y=function(a){g.addEventListener("onReady",d.onReady),g.addEventListener("onStateChange",d.onStateChange.bind(void 0,a)),g.addEventListener("onError",function(){})};d.$watch("currentIndex",function(){d.isThisSlideCurrent(e)?d.data.settings.editMode||(d.layer.autoplay&&!n&&d.stopPlayingTimer(),angular.isDefined(d.slideLeaved)&&d.slideLeaved&&(d.slideLeaved=!1)):d.slideLeaved||(d.onLeaveSlide(),d.slideLeaved=!0)}),d.$watch("[data.settings.timer, currentIndex]",function(){d.isThisSlideCurrent(e)?(q&&w(),d.data.settings.editMode||d.layer.applyLeave&&(d.layer.enter(),d.layer.applyLeave=!1)):d.layer.applyLeave=!0,d.data.settings.timer?parseInt(e.parents(".ms_repeater").data("currentIndex"))===parseInt(d.currentIndex)&&(b.cancel(d.layer.layerTimerLeave),d.applyLAnimation(d,e)):(b.cancel(d.layer.layerTimerLeave),null!==d.layer.leaveDelay&&parseInt(e.parents(".ms_repeater").data("currentIndex"))===parseInt(d.currentIndex)&&(d.data.settings.editMode||(d.layer.layerTimerLeave=b(function(){d.layer.applyLeave=!1,b.cancel(d.layer.layerTimerLeave)},d.layer.leaveDelay))))},!0);var z=c.defer();c.all(i).then(function(){z.resolve(),d.layer.typeChanged||(d.layer.created=!0),e.parent().trigger(d.layer.typeChanged?"MPSLLayerChange":"MPSLLayerCreate")}),d.deferred.push(z.promise),d.data.settings.editMode&&d.$watchCollection("[layer.type, layer.src, layer.width, layer.height, layer.classes, layer.poster, layer.controls]",function(){h?h=!1:c.all(j).then(function(){e.parent().trigger("MPSLLayerChange"),j=[]})})}}}angular.module("motosliderApp").directive("msYoutubeLayer",a),a.$inject=["defaults","$timeout","$q"]}(),function(){function a(a,b,c){return{restrict:"A",link:function(d,e,f){var g,h,i=!0,j=[],k=[],l=c.defer(),m=!1,n=!1,o=!0,p=!0,q=d.layer.autoplay||d.data.settings.editMode;d.layer.default_preview_image=a.info.path+a.videoBackground,d.vimeoPlayerReady=l.promise,d.layer.typeChanged=d.layer.hasOwnProperty("typeChanged")&&d.layer.typeChanged,d.layer.created=!1,d.slideLeaved=!1,d.elementId="mpsl-layer-vimeo-"+d.$id,e[0].id=d.elementId;var r=e.find("iframe");d.getVimeoEnterAnimationLayer=function(a){return a.animation},d.getVimeoLeaveAnimationLayer=function(a){return a.leaveAnimation},d.pixelerize=function(a){return parseInt(a)+"px"},d.layer.clArr=[],d.$watch("layer.classes",function(){if(d.data.settings.editMode){d.layer.classes&&d.layer.clArr.push(d.layer.classes),d.layer.clArr.forEach(function(a){e.removeClass(a)}),e.attr("style",""),e.addClass("ms_vimeo_layer"),d.layer.classes&&e.addClass(d.layer.classes),f.$set("positions",d.layer.position),e.css("opacity","1");var a=c.defer();d.data.settings.editMode&&d.setElementPosition(e,d.layer,a),k.push(a.promise)}});var s=c.defer();r.on("load",function(){s.resolve(),s=c.defer()});var t=s.promise;d.isThisSlideCurrent(e)&&q&&j.push(t),d.data.settings.editMode&&d.$watch("layer.src",function(){r.attr("src",d.getVimeoSrc(d.layer)),t=s.promise,k.push(t)});var u=d.$watch("layer.width",function(){e.css({width:d.layer.width[d.layout]}),u()}),v=d.$watch("layer.height",function(){e.css({height:d.layer.height[d.layout]}),v()});d.$watch("layer.controls",function(){d.data.settings.editMode&&r.attr("src",d.getVimeoSrc(d.layer))}),d.$watch("layer.poster",function(){d.data.settings.editMode&&!i&&d.setPreviewImage()});var w=function(){m||(m=!0,r.attr("src",d.getVimeoSrc(d.layer)),q=!1)};d.setPreviewImage=function(){g=c.defer(),h=g.promise,d.layer.poster.length?(d.layer.preview_image=d.layer.poster,g.resolve()):d.layer.preview_image=d.layer.default_preview_image},d.clickPreviewButton=function(){o=m||!d.detectMobile,d.stopPlayingTimer(),w(),c.when(d.vimeoPlayerReady).then(function(){d.hidePreviewImage(),o&&x()})},d.hidePreviewImage=function(){var a=e.find(".ms_vimeo_layer_preview_image");a.addClass("hidden")},d.showPreviewImage=function(){var a=e.find(".ms_vimeo_layer_preview_image");a.removeClass("hidden")};var x=function(){y("play")};d.isPaused=function(){y("paused")},d.pauseVideo=function(a){angular.isUndefined(a)&&(a=!0),m&&c.when(d.vimeoPlayerReady).then(function(){y("pause"),a&&d.showPreviewImage()}),d.layer.autoplay&&n&&(p=!1)},d.seekTo=function(a){m&&c.when(d.vimeoPlayerReady).then(function(){y("seekTo",a)})},d.onLeaveSlide=function(){d.showPreviewImage()},d.currentTimer=d.data.settings.timer;var y=function(a,b){var c={method:a};b&&(c.value=b),r[0].contentWindow.postMessage(JSON.stringify(c),d.getVimeoSrc(d.layer))};d.onReady=function(){d.arrVimeoPlayersState[d.elementId]="ready",y("addEventListener","play"),y("addEventListener","pause"),y("addEventListener","finish"),d.layer.loop?y("setLoop",!0):y("setLoop",!1),d.layer.mute?y("setVolume",1e-4):y("setVolume",1),l.resolve()},d.onPlay=function(){d.arrVimeoPlayersState[d.elementId]="play",d.data.settings.editMode||d.appliedPauses||d.stopPlayingTimer()},d.onPause=function(){d.arrVimeoPlayersState[d.elementId]="pause",d.data.settings.editMode||d.appliedPauses||!d.checkAllPlayers()||d.startPlayingTimer()},d.onFinish=function(){d.arrVimeoPlayersState[d.elementId]="finish",d.data.settings.editMode||d.appliedPauses||!d.checkAllPlayers()||d.startPlayingTimer()};var z=function(a){try{JSON.parse(a)}catch(b){return!1}return!0};d.onMessageReceived=function(a){if(z(a.data)){var b=JSON.parse(a.data);if(b.player_id===d.elementId)switch(b.event){case"ready":d.onReady();break;case"play":d.onPlay();break;case"pause":d.onPause();break;case"finish":d.onFinish()}}},d.data.settings.editMode||(window.addEventListener?window.addEventListener("message",d.onMessageReceived,!1):window.attachEvent("onmessage",d.onMessageReceived,!1)),d.data.settings.editMode||(d.animEndListener=function(){d.isThisSlideCurrent(e)&&d.layer.autoplay&&!n&&(c.when(d.vimeoPlayerReady).then(function(){p&&(d.hidePreviewImage(),x())}),n=!0)},angular.forEach(a.leaveEventNamesArr,function(a){e[0].addEventListener(a,d.animEndListener,!1)})),d.manipulate=function(a){var b=!1;a.hasOwnProperty("type")&&!angular.equals(d.layer.type,a.type)&&(d.layer.typeChanged=!0);for(var c in a)b||angular.equals(d.layer[c],a[c])||(b=!0),d.layer[c]=a[c];b?d.$apply():e.parent().trigger("MPSLLayerChange"),d.layer.changed=!0},d["delete"]=function(a){d.data.slides[0].layers.splice(a.$index,1),d.$apply()},d.percentage=function(a){return parseInt(a)+"%"},d.delayValidation=function(a){return parseInt(a)+"ms"},d.getWidth=function(b){return angular.isUndefined(b.width)||0===b.width.length?a.widthVimeo:b.width},d.getHeight=function(b){return angular.isUndefined(b.height)||0===b.height.length?a.heightVimeo:b.height},d.getVimeoId=function(a){var b=a.toString().match(/^(?:https?:\/\/|)(?:www\.|player\.|)vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:\/|\?|\#\w*|)$/),c="";if(null===b){var d=a.toString().match(/^\d+$/);c=angular.isArray(d)&&angular.isDefined(d[0])?d[0]:""}else c=angular.isArray(b)&&angular.isDefined(b[1])?b[1]:"";return c},d.getVimeoSrc=function(a){var b=d.getVimeoId(a.src);return"https://player.vimeo.com/video/"+b+"?api=1&player_id="+d.elementId+"&badge=0&title=0&portrait=0&byline=0"},r.attr("frameborder",0),r.attr("webkitallowfullscreen",!0),r.attr("mozallowfullscreen",!0),r.attr("allowfullscreen",!0),d.setPreviewImage(),d.data.settings.editMode?e.css("opacity",1):(d.addLayerAnimation(d.layer,e),e.addClass(d.layer.classes),e.css({width:d.layer.width[d.layout],height:d.layer.height[d.layout]})),d.initStyles(d.layer,e),e.data("mpsl_positions",d.layer.position);var A=c.defer();d.setElementPosition(e,d.layer,A),d.isThisSlideCurrent(e)&&j.push(A.promise),d.$watch("currentIndex",function(){d.isThisSlideCurrent(e)?(q&&w(),d.data.settings.editMode||d.layer.autoplay&&!n&&d.stopPlayingTimer(),angular.isDefined(d.slideLeaved)&&d.slideLeaved&&(d.slideLeaved=!1)):d.slideLeaved||(d.onLeaveSlide(),d.slideLeaved=!0)}),d.$watch("[data.settings.timer, currentIndex]",function(){d.isThisSlideCurrent(e)?d.data.settings.editMode||d.layer.applyLeave&&(d.layer.enter(),d.layer.applyLeave=!1):d.layer.applyLeave=!0,d.data.settings.timer?parseInt(e.parents(".ms_repeater").data("currentIndex"))===parseInt(d.currentIndex)&&(b.cancel(d.layer.layerTimerLeave),d.applyLAnimation(d,e)):(b.cancel(d.layer.layerTimerLeave),null!==d.layer.leaveDelay&&parseInt(e.parents(".ms_repeater").data("currentIndex"))===parseInt(d.currentIndex)&&(d.data.settings.editMode||(d.layer.layerTimerLeave=b(function(){d.layer.applyLeave=!1,b.cancel(d.layer.layerTimerLeave)},d.layer.leaveDelay))))},!0);var B=c.defer();c.all(j).then(function(){B.resolve(),d.layer.typeChanged||(d.layer.created=!0),e.parent().trigger(d.layer.typeChanged?"MPSLLayerChange":"MPSLLayerCreate")}),d.deferred.push(B.promise),d.data.settings.editMode&&d.$watchCollection("[layer.type, layer.src, layer.width, layer.height, layer.classes, layer.poster]",function(){
i?i=!1:c.all(k).then(function(){e.parent().trigger("MPSLLayerChange"),k=[]})})}}}angular.module("motosliderApp").directive("msVimeoLayer",a),a.$inject=["defaults","$timeout","$q"]}(),function(){function a(a,b,c,d,e,f){return{restrict:"A",link:function(c,f,g){var h=!0,i=[],j=[],k=new RegExp("\\b"+e.whiteSpacePrefix+"[a-zA-Z0-9]+\\b","g"),l=d.defer();i.push(l.promise),c.$watch("layer.content",function(){var a=c.imagesLoaded(f);h?a===!0?l.resolve():a.then(function(){l.resolve()}):a!==!0&&j.push(a)}),c.layer.clArr=[],angular.forEach(e.whiteSpaceVariations,function(a){c.layer.clArr.push(e.whiteSpacePrefix+a)}),c.$watch("layer.classes",function(){if(c.data.settings.editMode){var a=c.layer.classes.split(" ").filter(function(a){return!!a.trim().length});c.layer.clArr=c.layer.clArr.concat(a.filter(function(a){return c.layer.clArr.indexOf(a)<0})),f.removeClass(c.layer.clArr.join(" ")),f.attr("style",""),f.addClass("ms_html_layer "+c.layer.classes),n(c.layer.whiteSpace[c.layout]),g.$set("positions",c.layer.position),f.css("opacity","1");var b=d.defer();c.setElementPosition(f,c.layer,b),j.push(b.promise)}});var m=c.$watch("layer.width",function(){""!==c.layer.width[c.layout]&&f.css({width:c.layer.width[c.layout]}),m()}),n=function(a){var b=f.attr("class");b=b.replace(k,"").trim()+" "+e.whiteSpacePrefix+a,f.attr("class",b)};if(c.$watch("layer.whiteSpace",function(a){n(a[c.layout])},!0),c.data.settings.editMode||c.$watch("layout",function(){h||c.manipulateSingle("whiteSpace",c.layer.whiteSpace[c.layout])}),c.manipulateSingle=function(a,b){switch(a){case"whiteSpace":c.layer.whiteSpace[c.layout]=b,n(b)}},c.manipulate=function(a){var b=!1;for(var d in a)b||angular.equals(c.layer[d],a[d])||(b=!0),c.layer[d]=a[d];b?(c.trustHtmlContent(),c.$apply(),c.layer.changed=!0,c.changeStyles(c.layer,f)):f.parent().trigger("MPSLLayerChange",[!0])},c.manipulateFontOptions=function(a){for(var b in a)a.hasOwnProperty(b)&&(c.layer.styles[c.layout][b]=a[b]);var d=f.find("*:not(br,hr)");d.length&&angular.forEach(d,function(a){c.changeStyles(c.layer,angular.element(a),!0,!0)}),c.changeStyles(c.layer,f,!1,!0)},c["delete"]=function(a){c.data.slides[0].layers.splice(a.$index,1),c.$apply()},c.trustHtmlContent=function(){"string"==typeof c.layer.content&&(c.trustedHtml=a.trustAsHtml(c.layer.content))},c.trustHtmlContent(),c.data.settings.editMode?f.css("opacity",1):c.addLayerAnimation(c.layer,f),f.addClass(c.layer.classes),c.initStyles(c.layer,f),f.data("mpsl_positions",c.layer.position),c.data.settings.editMode){var o=d.defer();c.setElementPosition(f,c.layer,o),i.push(o.promise)}c.$watch("[data.settings.timer, currentIndex]",function(){parseInt(f.parents(".ms_repeater").data("currentIndex"))===parseInt(c.currentIndex)?c.data.settings.editMode||c.layer.applyLeave&&(c.layer.enter(),c.layer.applyLeave=!1):c.layer.applyLeave=!0,c.data.settings.timer?parseInt(f.parents(".ms_repeater").data("currentIndex"))===parseInt(c.currentIndex)&&(b.cancel(c.layer.layerTimerLeave),c.applyLAnimation(c,f)):(b.cancel(c.layer.layerTimerLeave),null!==c.layer.leaveDelay&&parseInt(f.parents(".ms_repeater").data("currentIndex"))===parseInt(c.currentIndex)&&(c.data.settings.editMode||(c.layer.layerTimerLeave=b(function(){c.layer.applyLeave=!1,b.cancel(c.layer.layerTimerLeave)},c.layer.leaveDelay))))},!0);var p=d.defer();d.all(i).then(function(){p.resolve(),f.parent().trigger("MPSLLayerCreate"),j=[]}),c.deferred.push(p.promise);var q=c.$watchCollection("[layer.content, layer.classes, layer.width, layer.whiteSpace]",function(a,b,e){c.data.settings.editMode?h||(d.all(j).then(function(){f.parent().trigger("MPSLLayerChange",[!1]),j=[]}),j=[]):q(),h=!1})}}}angular.module("motosliderApp").directive("msHtmlLayer",a),a.$inject=["$sce","$timeout","$interval","$q","defaults","$rootElement"]}(),function(){function a(a){return{restrict:"A",link:function(b,c){b.setTimerSeconds(),angular.element(c).bind("click",function(){b.data.settings.isSlideshowEnabled=!0,b.data.settings.timer?(c.removeClass("ms_pause"),b.data.settings.timer=!1,b.tempTimerForVideo=!1,b.stopTimer(),a.cancel(b.motoTimer)):(b.data.settings.timer=!0,b.tempTimerForVideo=!0,c.addClass("ms_pause"),b.startTimer()),b.$apply()})}}}angular.module("motosliderApp").directive("msStartPause",a),a.$inject=["$timeout"]}(),function(){function a(){return{restrict:"A",link:function(a,b,c){angular.element(b).bind("click",function(){var b=c.navigationControl;b&&b.length&&(a.quickScroll=!1,MPSLManager.swiped=!1,"next"===b?a.nextSlide(!0):"prev"===b&&a.prevSlide(!0),a.$apply())})}}}angular.module("motosliderApp").directive("navigationControl",a)}(),function(){function a(){return{link:function(a,b,c){angular.element(b).bind("click",function(){var d=angular.element(b),e=d.siblings();parseInt(c.index)===parseInt(a.currentIndex)?(d.addClass("ms_active"),e.removeClass("ms_active")):d.removeClass("ms_active")})}}}angular.module("motosliderApp").directive("paginationControl",a)}(),function(){function a(a,b,c){return{restrict:"A",link:function(d,e){a.when(d.sliderLoaded).then(function(){var a,f,g,h=0;if(a=d.data.settings.swipe&&d.detectMobile?!0:!d.data.settings.swipe&&d.detectMobile?!0:!(!d.data.settings.swipe||d.detectMobile),a&&!d.data.settings.editMode&&d.data.settings.countSlides>1){e.addClass("ms_grab"),e.on("mousedown",function(){angular.element(this).addClass("ms_grabbing")}),e.on("mouseup",function(){angular.element(this).removeClass("ms_grabbing")});var i,j=function(){var a=d.currentIndex,b=0==a?d.data.settings.countSlides-1:a-1,c=a==d.data.settings.countSlides-1?0:a+1,f={currentElement:e.find('[data-current-index="'+a+'"]'),prevElement:e.find('[data-current-index="'+b+'"]'),nextElement:e.find('[data-current-index="'+c+'"]')};return f.doubleSlide=b===c,f},k=function(a,b){a.css({"-webkit-transition-duration":d.ms(b),"-moz-transition-duration":d.ms(b),"-ms-transition-duration":d.ms(b),"transition-duration":d.ms(b)})},l=function(a,b){a.css({"-webkit-transform":"translate3D("+b+", 0, 0)","-moz-transform":"translate3D("+b+", 0, 0)","-ms-transform":"translate3D("+b+", 0, 0)",transform:"translate3D("+b+", 0, 0)"})},m=function(a,b){a.css({opacity:b})},n=function(a){a.css({"-webkit-transform":"matrix(1, 0, 0, 1, 0, 0)","-moz-transform":"matrix(1, 0, 0, 1, 0, 0)","-ms-transform":"matrix(1, 0, 0, 1, 0, 0)",transform:"matrix(1, 0, 0, 1, 0, 0)"})},o=function(){"msSlideFade"!==d.animationType&&(d.firstSlideEnded=!0,l(d.tempSlides.currentElement,d.percentage(-100)),k(d.tempSlides.currentElement,c.swipeTransitionDuration),l(d.tempSlides.nextElement,d.percentage(0)),k(d.tempSlides.nextElement,c.swipeTransitionDuration)),d.nextSlide(!0)},p=function(){"msSlideFade"!==d.animationType&&(d.firstSlideEnded=!0,l(d.tempSlides.currentElement,d.percentage(100)),k(d.tempSlides.currentElement,c.swipeTransitionDuration),l(d.tempSlides.prevElement,d.percentage(0)),k(d.tempSlides.prevElement,c.swipeTransitionDuration)),d.prevSlide(!0)},q=function(a){MPSLManager.swiped=!0,d.quickScroll=!0,l(d.tempSlides.currentElement,d.percentage(0)),k(d.tempSlides.currentElement,c.swipeTransitionDuration)},r=function(){g?(l(d.tempSlides.nextElement,d.percentage(100)),k(d.tempSlides.nextElement,c.swipeTransitionDuration)):(l(d.tempSlides.prevElement,d.percentage(-100)),k(d.tempSlides.prevElement,c.swipeTransitionDuration))},s=function(a,b){if(d.enableSwipe=!!(b.timeStamp-i>c.swipeTimeLimit||isNaN(i)),d.enableSwipe){i=b.timeStamp,h=a.x;var e=angular.element(b.target);d.quickScroll=!0,d.tempSlides=j(),d.animationType=d.tempSlides.currentElement.find(".ms_slide_wrapper").attr("enter-animation"),(e.hasClass("ms_next")||e.hasClass("ms_prev")||e.hasClass("ms_bullet"))&&v(),"msSlideFade"!==d.animationType&&(k(d.tempSlides.nextElement,0),d.tempSlides.doubleSlide||k(d.tempSlides.prevElement,0)),d.delta=0,d.startSwipeTime=b.timeStamp}},t=function(a,b){d.delta=h-a.x,d.enableSwipe&&"msSlideFade"!==d.animationType&&(f=-d.delta,(d.delta>5||d.delta<-5)&&(k(d.tempSlides.currentElement,0),l(d.tempSlides.currentElement,d.px(f))),d.swipeDifferenceX=a.x-h,d.delta>5?(g=!0,l(d.tempSlides.nextElement,d.px(d.currentWidth+f)),m(d.tempSlides.nextElement,1),d.tempSlides.doubleSlide||m(d.tempSlides.prevElement,0)):d.delta<-5?(g=!1,l(d.tempSlides.prevElement,d.px(-d.currentWidth+f)),m(d.tempSlides.prevElement,1),d.tempSlides.doubleSlide||m(d.tempSlides.nextElement,0)):d.delta<5&&d.delta>-5&&(m(d.tempSlides.nextElement,0),m(d.tempSlides.prevElement,0)))},u=function(a,b){if(d.enableSwipe){var e=b.timeStamp-d.startSwipeTime;"msSlideFade"!==d.animationType&&q();var f=d.currentWidth/c.swipeWidthLimit;"msSlideFade"!==d.animationType?d.delta>f?o():d.delta<-f?p():d.delta<f&&d.delta>-f&&0!==d.delta?e<c.swipeTime?(d.delta<0?p():o(),d.startSwipeTime=0):r():(v(),n(d.tempSlides.currentElement),k(d.tempSlides.currentElement,0),d.tempSlides.currentElement.addClass(c.animatedClass)):0!==d.delta&&(d.delta<0?p():o()),d.enableSwipe=!1}},v=function(a,b){};b.bind(e,{start:s,move:t,end:u,cancel:v}),e.on("mouseleave",function(){d.enableSwipe&&"msSlideFade"!==d.animationType&&(d.enableSwipe=!1,q(),r(),e.removeClass("ms_grabbing"))}),e.find(".ms_slide").on("click mousedown",function(a){0!==d.delta&&a.preventDefault()})}})}}}angular.module("motosliderApp").directive("msSwipe",a),a.$inject=["$q","$swipe","defaults"]}(),function(){function a(a,b){var c="true"===a.find(".motoslider>#settings").attr("data-edit-mode"),d=function(a){var b=a.find(".ms_slide_wrapper");return{enter:b.attr("enter-animation"),leave:b.attr("leave-animation"),duration:b.attr("duration"),easing:b.attr("easing")}},e=function(a){var b=a.find("video");0!==b.length&&b.each(function(a,b){b.pause()})},f=function(a,b,c){a.find(b.join(",")).css("opacity",c)},g=function(a,b){"msSlideFade"===b.enter?(a.hasClass("ms_show")&&a.removeClass("ms_show"),a.css({"transition-property":"opacity","-webkit-transition-property":"opacity","-moz-transition-property":"opacity","-ms-transition-property":"opacity"}),a.css({"transition-duration":b.duration+"ms","-webkit-transition-duration":b.duration+"ms","-moz-transition-duration":b.duration+"ms","-ms-transition-duration":b.duration+"ms"})):a.css({"animation-duration":b.duration+"ms","-webkit-animation-duration":b.duration+"ms","-moz-animation-duration":b.duration+"ms","-ms-animation-duration":b.duration+"ms"}),a.addClass("mpsl-"+b.easing)};return{removeClass:function(a){if(!c){a.addClass("ms_active"),a.removeClass("ms_prev_slide"),a.addClass("ms_current_slide"),f(a,[".ms_layer"],0);var e=d(a);a.removeClass(b.animatedClass+" "+e.leave),a.find(".ms_image").addClass("ms_optimize"),MPSLManager.swiped||e&&(a.addClass(b.animatedClass).addClass(e.enter),g(a,e))}},addClass:function(a){if(!c){e(a),a.removeClass("ms_active"),f(a,[".ms_layer"],1),a.removeClass("ms_current_slide");var h=d(a);a.removeClass(h.enter),"msSlideFade"!==h.enter&&(a.siblings(".ms_slide").css("opacity",0),a.css("opacity",1)),MPSLManager.swiped||h&&(a.addClass(b.animatedClass).addClass(h.enter),g(a,h))}}}}angular.module("motosliderApp").animation(".ms_repeater",a),a.$inject=["$rootElement","defaults"]}();